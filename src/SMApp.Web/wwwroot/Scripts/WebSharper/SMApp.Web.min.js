(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;a=self;b=a.SMApp=a.SMApp||{};c=b.Web=b.Web||{};d=c.User=c.User||{};e=c.Resource=c.Resource||{};f=c.Client=c.Client||{};g=a.StartupCode$SMApp_Web$Client=a.StartupCode$SMApp_Web$Client||{};h=a.WebSharper;i=h&&h.UI;j=i&&i.Doc;k=h&&h.Concurrency;l=h&&h.Remoting;m=l&&l.AjaxRemotingProvider;n=a.IntelliFactory;o=n&&n.Runtime;d.New=function(p){return{UserName:p};};e.New=function(p,q,r){return{Name:p,Description:q,Url:r};};f.Term=function(){var p,q;p=f.baseInt();q=f.baseOpt();a.$("#main").terminal(p,q);return j.get_Empty();};f.baseInt=function(){g.$cctor();return g.baseInt;};f.baseOpt=function(){g.$cctor();return g.baseOpt;};f.i2=function(p,q){var r,s;r=f.Welcome(q);r.$==1?p.echo("Commands: help, clear, template"):r.$==0?k.Start((s=null,k.Delay(function(){p.disable();return k.Combine(k.Bind((new m.New()).Async("SMApp.Web:SMApp.Web.Server.GetUser:2094211678",["allister"]),function(t){return t!=null&&t.$==1?(p.echo("bar"),k.Zero()):(p.echo("foo"),k.Zero());}),k.Delay(function(){p.enable();return k.Zero();}));})),null):r.$==2?p.echo("switch"):p.echo("Unknown");};f.Welcome=function(p){return p==="help"?{$:1,$0:null}:p==="welcome"?{$:0,$0:null}:p==="switch"?{$:2,$0:null}:{$:3,$0:null};};g.$cctor=function(){var p;g.$cctor=a.ignore;g.baseOpt=(p={},p.name="_Base",p.greetings="Welcome to Selma",p.onInit=function(q){var r;return q.push(function(s){return f.i2(this,s);},(r={},r.name="Main",r.prompt=">",r));},p);g.baseInt=o.ThisFunc(function(){return null;});};}());
