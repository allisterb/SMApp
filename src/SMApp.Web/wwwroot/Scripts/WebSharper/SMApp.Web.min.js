(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC;a=self;b=a.SMApp=a.SMApp||{};c=b.Web=b.Web||{};d=c.ClientExtensions=c.ClientExtensions||{};e=c._Html=c._Html||{};f=c.htmModule=c.htmModule||{};g=a.StartupCode$SMApp_Web$ClientExtensions=a.StartupCode$SMApp_Web$ClientExtensions||{};h=c.TypingDNA=c.TypingDNA||{};i=h.SaveResponse=h.SaveResponse||{};j=h.UserResponse=h.UserResponse||{};k=h.VerifyResponse=h.VerifyResponse||{};l=c.Bs=c.Bs||{};m=b.NLU=b.NLU||{};n=m.Babelfy=m.Babelfy||{};o=n.ApiResponse=n.ApiResponse||{};p=n.TokenFragment=n.TokenFragment||{};q=n.CharFragment=n.CharFragment||{};r=m.Witai=m.Witai||{};s=r.Utterance=r.Utterance||{};t=r.Intent=r.Intent||{};u=r.Entity=r.Entity||{};v=r.Trait=r.Trait||{};w=r["Utterance'"]=r["Utterance'"]||{};x=r["Value'"]=r["Value'"]||{};y=m.QnAMaker=m.QnAMaker||{};z=y.ITSQuestion=y.ITSQuestion||{};A=y.ITSAnswerContext=y.ITSAnswerContext||{};B=y.ITSAnswer=y.ITSAnswer||{};C=y.ITSAnswers=y.ITSAnswers||{};D=c.NLG=c.NLG||{};E=a.StartupCode$SMApp_Web$NLG=a.StartupCode$SMApp_Web$NLG||{};F=c.NLU=c.NLU||{};G=F.Intent=F.Intent||{};H=F.Trait=F.Trait||{};I=F.Entity=F.Entity||{};J=F.Utterance=F.Utterance||{};K=F.Voice=F.Voice||{};L=K["Entity'"]=K["Entity'"]||{};M=F.Text=F.Text||{};N=M["Utterance'"]=M["Utterance'"]||{};O=M["Intent'"]=M["Intent'"]||{};P=M["Entity'"]=M["Entity'"]||{};Q=M["Trait'"]=M["Trait'"]||{};R=F.Domain=F.Domain||{};S=a.StartupCode$SMApp_Web$NLU=a.StartupCode$SMApp_Web$NLU||{};T=c.CUI=c.CUI||{};U=T.MicState=T.MicState||{};V=T.ClientState=T.ClientState||{};W=T.Interpreter=T.Interpreter||{};X=T.CUI=T.CUI||{};Y=c.Question=c.Question||{};Z=c.QuestionType=c.QuestionType||{};_0=c.Dialogue=c.Dialogue||{};_1=_0.Dialogue=_0.Dialogue||{};_2=c.User=c.User||{};_3=a.StartupCode$SMApp_Web$User=a.StartupCode$SMApp_Web$User||{};_4=c.Main=c.Main||{};_5=a.StartupCode$SMApp_Web$Main=a.StartupCode$SMApp_Web$Main||{};_6=c.Client=c.Client||{};_7=a.StartupCode$SMApp_Web$Client=a.StartupCode$SMApp_Web$Client||{};_8=a.SMApp$Web_GeneratedPrintf=a.SMApp$Web_GeneratedPrintf||{};_9=a.GeneratedPrintf=a.GeneratedPrintf||{};_=a.IntelliFactory;$=_&&_.Runtime;ba=a.WebSharper;bb=ba&&ba.UI;bc=bb&&bb.Doc;bd=bb&&bb.AttrProxy;be=bb&&bb.Client;bf=be&&be.Templates;bg=ba&&ba.Arrays;bh=ba&&ba.Utils;bi=a.console;bj=a.jQuery;bk=ba&&ba.Strings;bl=ba&&ba.List;bm=ba&&ba.Seq;bn=bb&&bb.AttrModule;bo=ba&&ba.Concurrency;bp=a.JSON;bq=ba&&ba.Random;br=ba&&ba.Collections;bs=br&&br.Map;bt=ba&&ba.JavaScript;bu=bt&&bt.Pervasives;bv=a.SDK;bw=ba&&ba.Operators;bx=ba&&ba.Remoting;by=bx&&bx.AjaxRemotingProvider;bz=a.Wit;bA=a.document;bB=ba&&ba.Unchecked;bC=br&&br.Dictionary;d.startCamera=function(bD,bE){return a.startCamera(bD,bE);};d.speechSynthesis=function(){return a.speechSynthesis;};d.lastMicData=function(){return a.lastMicData;};d.questionBox=function(bD,bE,bF,bG,bH){var bI,bJ;(bI=a.Sweetalert2((bJ={},bJ.titleText=bD,bJ.text=bE,bJ.type="question",bJ.width=a.String(bF),bJ.html=((($.Curried3(function(bK,bL,bM){return bK("<div style=\"width:"+a.String(bL)+"px;height:"+a.String(bM)+"px\"></div>");}))(a.id))(bF))(bG),bJ.input="text",bJ.confirmButtonText="Ok",bJ)),bI).then(bH);};d.createCanvas=function(bD,bE,bF,bG){var bH;bH=bc.Element("canvas",[d.eid(bD),bd.Create("width",bE),bd.Create("height",bF)],[]);bf.LoadLocalTemplates("");bc.Run(bG,bH);return bG.firstChild;};d.elementHTML=function(bD){return bD.innerHTML;};d.createElement=function(bD){var bE;bE=self.document.createElement("div");self.document.appendChild(bE);bf.LoadLocalTemplates("");bc.RunAppend(bE,bD);};d.container=function(bD){return bc.Element("div",[d.cls("container")],bD);};d.dindex=function(bD){return bd.Create("data-index",a.String(bD));};d.cls=function(bD){return bd.Create("class",bD);};d.eid=function(bD){return bd.Create("id",bD);};d.termOutput=function(){return bg.get(a.jQuery(".terminal-output").get(),0);};d.toLower=function(bD){return bD.toLowerCase();};d.debug=function(bD,bE){d.info(((($.Curried3(function(bF,bG,bH){return bF("DEBUG: "+bh.toSafe(bG)+": "+bh.prettyPrint(bH));}))(a.id))(bD.toUpperCase()))(bE));};d.error=function(bD){bi.error(bD);};d.info=function(bD){bi.info(bD);};d.jserror=function(bD){bj.error(bD);};d.toArray=function(bD){return bg.map(a.id,bj.makeArray(bD));};d["Terminal.EchoHtml'"]=function(bD,bE){bD.pause();bD.echo(bE,d.rawOpt());bD.resume();};d["Terminal.Echo'"]=function(bD,bE){bD.pause();bD.echo(bE);bD.resume();};d.rawOpt=function(){g.$cctor();return g.rawOpt;};e=c._Html=$.Class({toString:function(){return e.toString(this);}},null,e);e.toString=function(bD){function bE(bF){return function(bG){var bH,bI,bJ,bK,bL,bM,bN;bI=bk.replicate(bF," ");switch(bG.$==0?bG.$1.$==1?bG.$1.$0.$==2?bG.$1.$1.$==0?(bH=[bG.$1.$0.$0,bG.$0],1):(bH=[bG.$1,bG.$0],2):(bH=[bG.$1,bG.$0],2):(bH=[bG.$1,bG.$0],2):bG.$==2?(bH=bG.$0,3):(bH=[bG.$0,bG.$1],0)){case 0:return bH[0]+"=\""+bH[1]+"\"";case 1:bJ=bH[1];return bI+"<"+bJ+">"+bH[0]+"</"+bJ+">\r\n";case 2:bK=bH[1];bL=bl.partition(function(bO){return bO.$==1;},bH[0]);bM=bL[1];bN=bL[0];return bM.$==0?bI+"<"+bK+(bN.$===0?"":" "+bk.concat(" ",bl.ofSeq(bm.delay(function(){return bm.map(function(bO){return(bE(0))(bO);},bN);}))))+"/>\r\n":bI+"<"+bK+(bN.$===0?"":" "+bk.concat(" ",bl.ofSeq(bm.delay(function(){return bm.map(function(bO){return(bE(0))(bO);},bN);}))))+">\r\n"+bk.concat("",bl.ofSeq(bm.delay(function(){return bm.map(function(bO){return(bE(bF+1))(bO);},bM);})))+bI+"</"+bK+">\r\n";case 3:return bI+bH+"\r\n";}};}return(bE(0))(bD);};f.alt=function(bD){return new e({$:1,$0:"alt",$1:bD});};f.src=function(bD){return new e({$:1,$0:"src",$1:bD});};f.cls=function(bD){return new e({$:1,$0:"class",$1:bD});};f.str=function(bD){return e.toString(bD);};f.op_PercentEquals=function(bD,bE){return new e({$:1,$0:bD,$1:bE});};f.op_Splice=function(bD){var bE;return bl.ofArray([new e({$:2,$0:(bE=bD,a.String(bE))})]);};f.strong=function(){g.$cctor();return g.strong;};f.h4=function(){g.$cctor();return g.h4;};f.h3=function(){g.$cctor();return g.h3;};f.h2=function(){g.$cctor();return g.h2;};f.h1=function(){g.$cctor();return g.h1;};f.li=function(){g.$cctor();return g.li;};f.ul=function(){g.$cctor();return g.ul;};f.th=function(){g.$cctor();return g.th;};f.td=function(){g.$cctor();return g.td;};f.tr=function(){g.$cctor();return g.tr;};f.a=function(){g.$cctor();return g.a;};f.p=function(){g.$cctor();return g.p;};f.area=function(){g.$cctor();return g.area;};f.map=function(){g.$cctor();return g.map;};f.img=function(){g.$cctor();return g.img;};f.tfoot=function(){g.$cctor();return g.tfoot;};f.tbody=function(){g.$cctor();return g.tbody;};f.thead=function(){g.$cctor();return g.thead;};f.table=function(){g.$cctor();return g.table;};f.span=function(){g.$cctor();return g.span;};f.section=function(){g.$cctor();return g.section;};f.br=function(){g.$cctor();return g.br;};f.div=function(){g.$cctor();return g.div;};f.body=function(){g.$cctor();return g.body;};f.style=function(){g.$cctor();return g.style;};f.title=function(){g.$cctor();return g.title;};f.head=function(){g.$cctor();return g.head;};f.html=function(){g.$cctor();return g.html;};f.elem=function(bD,bE){return new e({$:0,$0:bD,$1:bE});};g.$cctor=function(){var bD;g.$cctor=a.ignore;g.rawOpt=(bD={},bD.raw=true,bD);g.html=function(bE){return f.elem("html",bE);};g.head=function(bE){return f.elem("head",bE);};g.title=function(bE){return f.elem("title",bE);};g.style=function(bE){return f.elem("style",bE);};g.body=function(bE){return f.elem("body",bE);};g.div=function(bE){return f.elem("div",bE);};g.br=function(bE){return f.elem("br",bE);};g.section=function(bE){return f.elem("section",bE);};g.span=function(bE){return f.elem("span",bE);};g.table=function(bE){return f.elem("table",bE);};g.thead=function(bE){return f.elem("thead",bE);};g.tbody=function(bE){return f.elem("tbody",bE);};g.tfoot=function(bE){return f.elem("tfoot",bE);};g.img=function(bE){return f.elem("img",bE);};g.map=function(bE){return f.elem("map",bE);};g.area=function(bE){return f.elem("area",bE);};g.p=function(bE){return f.elem("p",bE);};g.a=function(bE){return f.elem("a",bE);};g.tr=function(bE){return f.elem("tr",bE);};g.td=function(bE){return f.elem("td",bE);};g.th=function(bE){return f.elem("th",bE);};g.ul=function(bE){return f.elem("ul",bE);};g.li=function(bE){return f.elem("li",bE);};g.h1=function(bE){return f.elem("h1",bE);};g.h2=function(bE){return f.elem("h1",bE);};g.h3=function(bE){return f.elem("h1",bE);};g.h4=function(bE){return f.elem("h1",bE);};g.strong=function(bE){return f.elem("strong",bE);};};i.New=function(bD,bE,bF,bG){return{name:bD,message:bE,message_code:bF,status:bG};};j.New=function(bD,bE,bF,bG,bH){return{message:bD,message_code:bE,success:bF,count:bG,status:bH};};k.New=function(bD,bE,bF,bG,bH,bI){return{message:bD,message_code:bE,success:bF,result:bG,score:bH,confidence:bI};};h.getSameTextTypingPattern=function(bD,bE){var bF;return bE.getTypingPattern((bF={type:1},bF.text=bD,bF.caseSensitive=true,bF));};l.Radio=function(bD,bE,bF,bG,bH){return bc.Element("div",new bl.T({$:1,$0:d.cls("radio"),$1:bE}),[bc.Element("label",bG,[bc.Radio(bH,true,bF),bc.TextNode(bD)])]);};l.checkbox=function(bD,bE,bF,bG,bH){return bc.Element("div",new bl.T({$:1,$0:d.cls("checkbox"),$1:bE}),[bc.Element("label",bG,[bc.CheckBox(bH,bF),bc.TextNode(bD)])]);};l.textArea=function(bD,bE,bF,bG,bH){return bc.Element("div",new bl.T({$:1,$0:d.cls("form-group"),$1:bE}),[bc.Element("label",bG,[bc.TextNode(bD)]),bc.InputArea(new bl.T({$:1,$0:d.cls("form-control"),$1:bH}),bF)]);};l.inputPassword=function(bD,bE,bF,bG,bH){return bc.Element("div",new bl.T({$:1,$0:d.cls("form-group"),$1:bE}),[bc.Element("label",bG,[bc.TextNode(bD)]),bc.PasswordBox(new bl.T({$:1,$0:d.cls("form-control"),$1:bH}),bF)]);};l.input=function(bD,bE,bF,bG,bH){return bc.Element("div",new bl.T({$:1,$0:d.cls("form-group"),$1:bE}),[bc.Element("label",bG,[bc.TextNode(bD)]),bc.Input([d.cls("form-control"),bH],bF)]);};l.btnSecondary=function(bD,bE,bF){return bc.Element("button",[d.eid(bD),d.cls("btn btn-secondary"),bn.Handler("click",bF)],[bc.TextNode(bE)]);};l.btnPrimary=function(bD,bE,bF){return bc.Element("button",[d.eid(bD),d.cls("btn btn-primary"),bn.Handler("click",bF)],[bc.TextNode(bE)]);};o.New=function(bD,bE,bF,bG,bH,bI,bJ,bK,bL){return{tokenFragment:bD,charFragment:bE,babelSynsetID:bF,DBpediaURL:bG,BabelNetURL:bH,score:bI,cohrenceScore:bJ,globalScore:bK,source:bL};};p.New=function(bD,bE){return{start:bD,end:bE};};q.New=function(bD,bE){return{start:bD,end:bE};};n.disambiguate=function(bD){function bE(bF,bG){var bH;bj.ajax((bH={},bH.url=(function(bI){return function(bJ){return bI("https://babelfy.io/v1/disambiguate?text="+bh.toSafe(bJ)+"&lang=EN&extAIDA=true&key=983fc0ec-a6fa-49ef-bd02-203c18aef272");};}(a.id))(bD),bH.type="GET",bH.success=function(bI){return bF(bI);},bH.error=function(bI){return bG(new a.Error(bI.responseText));},bH));}return bo.FromContinuations(function(bF,bG,bH){return bE.apply(null,[bF,bG,bH]);});};s.New=function(bD,bE,bF,bG){return{text:bD,intents:bE,entities:bF,traits:bG};};t.New=function(bD,bE,bF){return{id:bD,name:bE,confidence:bF};};u.New=function(bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN){return{id:bD,name:bE,role:bF,start:bG,end:bH,body:bI,confidence:bJ,entities:bK,suggested:bL,value:bM,type:bN};};v.New=function(bD,bE,bF){return{id:bD,value:bE,confidence:bF};};w.New=function(bD){return{intent:bD};};x.New=function(bD){return{value:bD};};r.getMeaning2=function(bD,bE){function bF(bG,bH){var bI;bj.ajax((bI={},bI.url=(function(bJ){return function(bK){return bJ("https://api.wit.ai/message?q="+bh.toSafe(bK));};}(a.id))(bE),bI.type="GET",bI.beforeSend=function(bJ){return bJ.setRequestHeader("Authorization","Bearer "+bD);},bI.success=function(bJ){return bG(bJ);},bI.error=function(bJ){return bH(new a.Error(bJ.responseText));},bI));}return bo.FromContinuations(function(bG,bH,bI){return bF.apply(null,[bG,bH,bI]);});};r.getMeaning=function(bD,bE,bF,bG){var bH;bj.ajax((bH={},bH.url=(function(bI){return function(bJ){return bI("https://api.wit.ai/message?q="+bh.toSafe(bJ));};}(a.id))(bE),bH.type="GET",bH.beforeSend=function(bI){return bI.setRequestHeader("Authorization","Bearer "+bD);},bH.success=bF,bH.error=bG,bH));};z.New=function(bD){return{question:bD};};A.New=function(bD,bE){return{isContextOnly:bD,prompts:bE};};B.New=function(bD,bE,bF,bG,bH,bI,bJ){return{questions:bD,answer:bE,score:bF,id:bG,source:bH,metadata:bI,context:bJ};};C.New=function(bD){return{answers:bD};};y.getAnswer=function(bD){function bE(bF,bG){var bH;bj.ajax((bH={},bH.url="https://lerna.azurewebsites.net/qnamaker/knowledgebases/13a6a026-942b-4612-a8cb-654086ec76ee/generateAnswer",bH.type="POST",bH.beforeSend=function(bI){return bI.setRequestHeader("Authorization","EndpointKey e5a55563-b1b0-4343-8796-bda5a0509385");},bH.contentType="application/json",bH.dataType="json",bH.data=bp.stringify(z.New(bD)),bH.success=function(bI){return bF(bI);},bH.error=function(bI){return bG(new a.Error(bI.responseText));},bH));}return bo.FromContinuations(function(bF,bG,bH){return bE.apply(null,[bF,bG,bH]);});};D.waitAddPhrases=function(){E.$cctor();return E.waitAddPhrases;};D.waitRetrievePhrases=function(){E.$cctor();return E.waitRetrievePhrases;};D.helpPhrases=function(){E.$cctor();return E.helpPhrases;};D.helloUserPhrases=function(){E.$cctor();return E.helloUserPhrases;};D.helloPhrases=function(){E.$cctor();return E.helloPhrases;};D["getRandomPhrase'"]=function(bD){return D.replace_tok("$0","",bm.nth(D.rng().Next(0,bD.get_Length()),bD));};D.getRandomPhrase=function(bD,bE){return D.replace_tok("$0",bE,bm.nth(D.rng().Next(0,bD.get_Length()),bD));};D.replace_tok=function(bD,bE,bF){return bk.Replace(bF,bD,bE);};D.rng=function(){E.$cctor();return E.rng;};E.$cctor=function(){E.$cctor=a.ignore;E.rng=new bq.New();E.helloPhrases=bl.ofArray(["Welcome!","Welcome, my name is Selma.","Welcome to Selma. How can I help?","Hello this is Selma, how can I help?","Hello, I am Selma. How can I help?","Hello, I am Selma. How may I help you now?","I'm Selma. Tell me your name so we can get started."]);E.helloUserPhrases=bl.ofArray(["Hello $0, welcome back.","Welcome $0, nice to see you again.","Hello $0.","Good to see you $0.","Hello $0, nice to see you."]);E.helpPhrases=bl.ofArray(["What can I help you with $0?"]);E.waitRetrievePhrases=bl.ofArray(["Ok, let me check that $0 for you","Please wait while I check that $0 for you.","Wait while I check that $0.","Ok let me see if I can find that $0."]);E.waitAddPhrases=bl.ofArray(["Ok, let me add that $0 for you","Please wait while I add that $0 for you.","Wait while I add that $0.","I'll add that $0 now."]);};G=F.Intent=$.Class({toString:function(){return((($.Curried3(function(bD,bE,bF){return bD("Intent("+bh.toSafe(bE)+", "+_8.p$2(bF)+")");}))(a.id))(this.get_Name()))(this.get_Confidence());},get_Confidence:function(){return this.$1;},get_Name:function(){return this.$0;}},null,G);H=F.Trait=$.Class({toString:function(){return((($.Curried3(function(bD,bE,bF){return bD("Trait("+bh.toSafe(bE)+", "+bh.prettyPrint(bF)+")");}))(a.id))(this.get_Name()))(this.get_Value());},get_Confidence:function(){return this.$2;},get_Value:function(){return this.$1;},get_Name:function(){return this.$0;}},null,H);I=F.Entity=$.Class({toString:function(){return((((($.Curried(function(bD,bE,bF,bG,bH){return bD("Entity("+bh.toSafe(bE)+", "+bh.toSafe(bF)+", "+bh.toSafe(bG)+", "+_8.p$2(bH)+")");},5))(a.id))(this.get_Name()))(this.get_Role()))(this.get_Value()))(this.get_Confidence());},get_Confidence:function(){return this.$3;},get_Value:function(){return this.$2;},get_Role:function(){return this.$1;},get_Name:function(){return this.$0;}},null,I);J=F.Utterance=$.Class({toString:function(){return(((($.Curried(function(bD,bE,bF,bG){return bD(_8.p(bE)+" "+_8.p$3(bF)+" "+_8.p$5(bG));},4))(a.id))(this.get_Intent()))(this.get_Traits()))(this.get_Entities());},get_Entities:function(){var bD;bD=this.$3;return bD!=null?{$:1,$0:bl.sortBy(function(bE){return bE.get_Name();},bD.$0)}:null;},get_Traits:function(){var bD;bD=this.$2;return bD!=null?{$:1,$0:bl.sortBy(function(bE){return bE.get_Name();},bD.$0)}:null;},get_Intent:function(){return this.$1;},get_Text:function(){return this.$0;}},null,J);L.New=function(bD,bE,bF,bG,bH){return{body:bD,end:bE,start:bF,suggested:bG,value:bH};};K["Intent'"]=function(bD,bE){return!(bE.intent==null)?{$:1,$0:new G({$:0,$0:d.toLower(bE.intent.value),$1:null})}:null;};K["Trait'"]=function(bD){return!(bD.domain==null)?{$:1,$0:new H({$:0,$0:"domain",$1:d.toLower(bD.domain.value),$2:null})}:!(bD.dialogue_act==null)?{$:1,$0:new H({$:0,$0:"dialogue_act",$1:d.toLower(bD.dialogue_act.value),$2:null})}:null;};K["Entity'$1"]=function(bD){return!(bD.contact==null)?{$:1,$0:new I({$:0,$0:"contact",$1:"",$2:d.toLower(bD.contact.value),$3:null})}:null;};N=M["Utterance'"]=$.Class({get_TopIntent:function(){return bl.head(bl.sortBy(function(bD){return bD.get_Confidence();},this.get_Intents()));},get_Traits:function(){return this.$3;},get_Entities:function(){return this.$2;},get_Intents:function(){return this.$1;},get_Text:function(){return this.$0;}},null,N);O=M["Intent'"]=$.Class({get_Confidence:function(){return this.$1;},get_Name:function(){return this.$0;}},null,O);P=M["Entity'"]=$.Class({get_Value:function(){return(this.get_Unwrap())[3];},get_Role:function(){return(this.get_Unwrap())[2];},get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1,this.$2,this.$3];}},null,P);Q=M["Trait'"]=$.Class({get_Value:function(){return(this.get_Unwrap())[2];},get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1,this.$2];}},null,Q);M.HasUtterance=function(bD){var bE,bF,bG,bH,bI,bJ;return bD!=null&&bD.$==1&&(bD.$0.$2.get_Length()>0&&(bE=[bD.$0.$2,bD.$0.$1,bD,bD.$0.$0,bD.$0.$3],true))?(bF=bE[0],(bG=bE[2],(bH=bE[4],(bI=bE[1].$==0?null:{$:1,$0:new G({$:0,$0:bG.$0.get_TopIntent().get_Name(),$1:{$:1,$0:bG.$0.get_TopIntent().get_Confidence()}})},(bJ=bF.$==0?null:{$:1,$0:bl.map(function(bK){return new I({$:0,$0:bK.get_Name(),$1:d.toLower(bK.get_Role()),$2:bK.get_Value(),$3:{$:1,$0:bK.get_Confidence()}});},bl.filter(function(bK){return bK.get_Confidence()>M.entityConfidenceThreshold();},bF))},{$:1,$0:new J({$:0,$0:bE[3],$1:bI,$2:bH.$==0?null:{$:1,$0:bl.map(function(bK){return new H({$:0,$0:d.toLower(bK.get_Name()),$1:bK.get_Value(),$2:{$:1,$0:bK.get_Confidence()}});},bl.filter(function(bK){return bK.get_Confidence()>M.entityConfidenceThreshold();},bH))},$3:bJ})}))))):null;};M.entityConfidenceThreshold=function(){S.$cctor();return S.entityConfidenceThreshold;};M.set_entityConfidenceThreshold=function(bD){S.$cctor();S.entityConfidenceThreshold=bD;};M.intentConfidenceThreshold=function(){S.$cctor();return S.intentConfidenceThreshold;};M.set_intentConfidenceThreshold=function(bD){S.$cctor();S.intentConfidenceThreshold=bD;};M.getUtterance2=function(bD){var bE;bE=null;return bo.Delay(function(){return bo.Bind(r.getMeaning2("4Y2BLQY5TWLIN7HFIV264S53MY4PCUAT",bD),function(bF){d.debug("NLU",(function(bG){return function(bH){return bG("Wit.ai returned "+_9.p(bH)+" ");};}(a.id))(bF));return bo.Return(new N({$:0,$0:bD,$1:bl.ofArray(bg.map(function(bG){return new O({$:0,$0:bG.name,$1:bG.confidence});},bF.intents)),$2:bl.map(function(bG){return new P({$:0,$0:bG.name,$1:bG.confidence,$2:bG.role,$3:bG.value});},bl.ofSeq(bm.concat(bm.map(function(bG){return bG[1];},bs.ToSeq(bF.entities))))),$3:bl.ofSeq(bm.map(function(bG){var bH;bH=bG[1];return new Q({$:0,$0:bG[0],$1:bg.get(bH,0).confidence,$2:bg.get(bH,0).value});},bs.ToSeq(bF.traits)))}));});});};M.getUtterance=function(bD,bE){r.getMeaning("OOGDHEQL7JZRQASXN2N2GHFUKGO3SCNV",bD,function(bF){var bG,bH;d.debug("NLU",(function(bI){return function(bJ){return bI("Wit.ai returned: "+bh.prettyPrint(bJ));};}(a.id))(bF));bG=!(bF.intents==null)?bl.ofArray(bg.map(function(bI){return new O({$:0,$0:bI.name,$1:bI.confidence});},bF.intents)):bl.T.Empty;bH=!(bF.traits==null)?bl.ofSeq(bm.concat(bl.map(function(bI){return bg.map(function(bJ){return new Q({$:0,$0:bI,$1:bJ.confidence,$2:bJ.value});},bu.GetJS(bF.traits,[bI]));},bl.filter(function(bI){return!(bu.GetJS(bF.traits,[bI])==null);},M.trait_types())))):bl.T.Empty;return bE({$:1,$0:new N({$:0,$0:bD,$1:bG,$2:!(bF.entities==null)?bl.ofSeq(bm.concat(bl.map(function(bI){return bg.map(function(bJ){return new P({$:0,$0:bJ.name,$1:bJ.confidence,$2:bJ.role,$3:bJ.value});},bu.GetJS(bF.entities,[bI]));},bl.filter(function(bI){return!(bu.GetJS(bF.entities,[bI])==null);},M.entity_types())))):bl.T.Empty,$3:bH})});},function(bF,bG,bH){d.error(((($.Curried3(function(bI,bJ,bK){return bI("Wit.ai returned: "+bh.prettyPrint(bJ)+" "+bh.prettyPrint(bK));}))(a.id))(bG))(bH));return bE(null);});};M.trait_types=function(){S.$cctor();return S.trait_types;};M.entity_types=function(){S.$cctor();return S.entity_types;};M.QuickNumber=function(bD){var bE,bF,bG;return(bF=M.One(bD),bF!=null&&bF.$==1?(bE=bF.$0,true):(bG=M.Two(bD),bG!=null&&bG.$==1&&(bE=bG.$0,true)))?{$:1,$0:bE}:null;};M.Three=function(bD){var bE;return bD==="3"||bD==="three"?{$:1,$0:new J({$:0,$0:"three",$1:{$:1,$0:new G({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$2:null,$3:{$:1,$0:bl.ofArray([new I({$:0,$0:"wit/ordinal",$1:"",$2:"three",$3:{$:1,$0:1}})])}})}:null;};M.Two=function(bD){var bE;return bD==="2"||bD==="two"?{$:1,$0:new J({$:0,$0:"two",$1:{$:1,$0:new G({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$2:null,$3:{$:1,$0:bl.ofArray([new I({$:0,$0:"wit/ordinal",$1:"",$2:"two",$3:{$:1,$0:1}})])}})}:null;};M.One=function(bD){var bE;return bD==="1"||bD==="one"?{$:1,$0:new J({$:0,$0:"one",$1:{$:1,$0:new G({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$2:null,$3:{$:1,$0:bl.ofArray([new I({$:0,$0:"wit/ordinal",$1:"",$2:"one",$3:{$:1,$0:1}})])}})}:null;};M.QuickNo=function(bD){var bE;return bD==="no"||(bD==="nope"||(bD==="no way"||(bD==="nah"||(bD==="don't do it"||bD==="stop"))))?{$:1,$0:new J({$:0,$0:"no",$1:{$:1,$0:new G({$:0,$0:"reject",$1:{$:1,$0:1}})},$2:null,$3:null})}:null;};M.QuickYes=function(bD){var bE;return bD==="yes"||(bD==="ok"||(bD==="sure"||(bD==="yeah"||(bD==="yep"||(bD==="uh huh"||(bD==="go ahead"||bD==="go"))))))?{$:1,$0:new J({$:0,$0:"yes",$1:{$:1,$0:new G({$:0,$0:"verify",$1:{$:1,$0:1}})},$2:null,$3:null})}:null;};M.QuickHelp=function(bD){var bE;return bD==="help"||(bD==="help me"||(bD==="what's this?"||bD==="huh"))?{$:1,$0:new J({$:0,$0:"help",$1:{$:1,$0:new G({$:0,$0:"help",$1:{$:1,$0:1}})},$2:null,$3:null})}:null;};M.QuickHello=function(bD){var bE;return bD==="hello"||(bD==="hey"||(bD==="yo"||bD==="hi"))?{$:1,$0:new J({$:0,$0:"hello",$1:{$:1,$0:new G({$:0,$0:"greet",$1:{$:1,$0:1}})},$2:null,$3:null})}:null;};M.Voices=function(bD){return bD==="voices"?{$:1,$0:null}:null;};M.Debug=function(bD){return bD==="debug"?{$:1,$0:null}:null;};M.Blank=function(bD){return bD===""?{$:1,$0:null}:null;};R.Study=function(bD){return bD.get_Traits()!=null?{$:0,$0:null}:{$:1,$0:null};};F.Str=function(bD){var bE;return bD!=null&&bD.$==1&&(typeof bD.$0=="string"&&(bE=bD.$0,true))?{$:1,$0:bE}:null;};F.No=function(bD){var bE,bF;return(bF=F.Intent$1("reject",bD),bF!=null&&bF.$==1&&(bF.$0[0]==null&&(bF.$0[1]==null&&(bE=bD,true))))?{$:1,$0:bE}:null;};F.Yes=function(bD){var bE,bF;return(bF=F.Intent$1("verify",bD),bF!=null&&bF.$==1&&(bF.$0[0]==null&&(bF.$0[1]==null&&(bE=bD,true))))?{$:1,$0:bE}:null;};F.EntityManyofMany=function(bD,bE){return{$:1,$0:bs.OfArray(bg.ofSeq(bl.map(function(bF){return bl.exists(function(bG){return bG.get_Role()===bF;},bE)?[bF,{$:1,$0:bl.filter(function(bG){return bG.get_Role()===bF;},bE)}]:[bF,null];},bD)))};};F.EntityManyOf1=function(bD,bE){var bF;return bE!=null&&bE.$==1&&(bl.exists(function(bG){return bG.get_Role()===bD;},bE.$0)&&(bF=bE.$0,true))?{$:1,$0:bl.filter(function(bG){return bG.get_Role()===bD;},bF)}:null;};F.Entity1OfAny=function(bD,bE){var bF;return bE!=null&&bE.$==1&&(bl.exists(function(bG){return bG.get_Role()===bD;},bE.$0)&&(bF=bE.$0,true))?{$:1,$0:bl.head(bl.sortBy(function(bG){return bG.get_Role();},bl.filter(function(bG){return bG.get_Role()===bD;},bF)))}:null;};F.Entity1Of1=function(bD,bE){var bF,bG;return bE!=null&&bE.$==1&&(bE.$0.$==1&&(bE.$0.$1.$==0&&((bG=bE.$0.$0,bG.get_Role()===bD||bG.get_Name()===bD)&&(bF=bE.$0.$0,true))))?{$:1,$0:bF}:null;};F.Intent$1=function(bD,bE){return bE.get_Intent()!=null&&bE.get_Intent().$0.get_Name()===bD?{$:1,$0:[bE.get_Traits(),bE.get_Entities()]}:null;};S.$cctor=function(){S.$cctor=a.ignore;S.entity_types=bl.ofArray(["wit$contact:name","wit$datetime:datetime","term:subject","term:object","term:verb"]);S.trait_types=bl.ofArray(["domain","dialogue_act"]);S.intentConfidenceThreshold=0.85;S.entityConfidenceThreshold=0.85;};U.MicReady={$:5};U.MicAudioEnd={$:4};U.MicAudioStart={$:3};U.MicDisconnected={$:2};U.MicConnecting={$:1};U.MicNotInitialized={$:0};V.ClientUnderstand={$:2};V.ClientReady={$:1};V.ClientNotInitialzed={$:0};W=T.Interpreter=$.Class({get_Options:function(){return(this.get_Unwrap())[2];},get_Text:function(){return(this.get_Unwrap())[1];},get_Voice:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1[0],this.$1[1]];}},null,W);X=T.CUI=$.Class({MonitorTypingPattern:function(bD){this.TypingDNA.reset();bD!=null?this.TypingDNA.addTarget(bD.$0):void 0;this.TypingDNA.start();},GetSameTextTypingPattern:function(bD,bE){var bF,bG;return this.TypingDNA.getTypingPattern(bE==null?(bF={type:1},bF.text=bD,bF.caseSensitive=false,bF):(bG={type:1},bG.text=bD,bG.caseSensitive=false,bG.targetId=bE.$0,bG));},SayVoices:function(){var bD,bE,bF;bD=this;bE=a.speechSynthesis.getVoices();!(bE==null)?(bF=d.toArray(bE),bD.Say((function(bG){return function(bH){return bG("There are currently "+a.String(bH)+" voices installed on this computer or device.");};}(a.id))(bg.length(bF))),bg.iteri(function(bG,bH){return bD.Say((((($.Curried(function(bI,bJ,bK,bL){return bI("Voice "+a.String(bJ)+". Name: "+bh.toSafe(bK)+", Local: "+bh.prettyPrint(bL)+".");},4))(a.id))(bG))(bH.name))(bH.localService));},bF)):void 0;},Wait:function(bD){this.Wait$1(function(){bo.Start(bD,null);});},Wait$1:function(bD){this["Echo'"]("please wait...");this.Term.pause();bD();this.Term.resume();},sayRandom:function(bD,bE){this.Say(D.getRandomPhrase(bD,bE));},SayAngry:function(bD){var bE,bF;bE=this;bo.Start((bF=null,bo.Delay(function(){return bo.Combine(a.speechSynthesis.speaking?(a.speechSynthesis.cancel(),bv.chime(),bo.Zero()):bo.Zero(),bo.Delay(function(){a.addMessage(bE.Avatar,bD,"","");bE.Avatar.processMessages(0);return bo.Zero();}));})),null);},SayDoc:function(bD){var bE,bF,bG;bE=bg.get(bj(".terminal-output").get(),0).childNodes.length;bF=bc.Element("div",[d.cls("terminal-command"),d.dindex(bE+1)],[bD]);bG=d.termOutput();bf.LoadLocalTemplates("");bc.RunAppend(bG,bF);},Say:function(bD){var bE,bF;bE=this;bo.Start((bF=null,bo.Delay(function(){return bo.Combine(a.speechSynthesis.speaking?(bv.chime(),bo.Zero()):bo.Zero(),bo.Delay(function(){bE.Avatar.addMessage(bD);bE.Avatar.processMessages(0);return bo.Zero();}));})),null);},Debug:function(bD,bE){d.debug(bD,bE);},"EchoHtml'":function(bD){var bE,bF;bE=(bF={},bF.raw=true,bF);this.Term.disable();this.Term.echo(bD,bE);this.Term.enable();},"Echo'":function(bD){this.Term.disable();this.Term.echo(bD);this.Term.enable();}},null,X);X.New=function(bD,bE,bF,bG,bH,bI,bJ){return new X({Voice:bD,Mic:bE,Term:bF,Avatar:bG,Caption:bH,TypingDNA:bI,AudioEnd:bJ});};Y=c.Question=$.Class({toString:function(){return((((($.Curried(function(bD,bE,bF,bG,bH){return bD("Name: "+bh.toSafe(bE)+" Text: "+bh.toSafe(bF)+" Type: "+_8.p$8(bG)+" Module: "+bh.toSafe(bH));},5))(a.id))(this.get_Name()))(this.get_Text()))(this.get_Type()))(this.get_Module());},get_Module:function(){return this.$3;},get_Type:function(){return this.$2;},get_Text:function(){return this.$1;},get_Name:function(){return this.$0;}},null,Y);Z.ConceptCompletion={$:3};Z.Disjunctive={$:2};Z.Verification={$:1};_1=_0.Dialogue=$.Class({get_Utterances:function(){return this.$4;},get_Output:function(){return this.$3;},get_DialogueQuestions:function(){return this.$2;},get_Props:function(){return this.$1;},get_Cui:function(){return this.$0;}},null,_1);_0["Response'_"]=function(bD,bE,bF,bG){var bH,bI,bJ;return(bI=_0.PropNotSet_(bD,"user",bG),bI!=null&&bI.$==1&&(_0.haveQuestion(bE,bF)&&bD.get_DialogueQuestions().length>0&&(bD.get_DialogueQuestions())[0].get_Name()===bF&&(bH=bI.$0,true)))?_0.have(bD,bF)?(bJ=bD.get_Props().get_Item(bF),(_0["delete"](bD,bF),{$:1,$0:[bH,{$:1,$0:bJ}]})):{$:1,$0:[bH,null]}:null;};_0.Response_=function(bD,bE,bF,bG){var bH,bI,bJ;return(bI=_0.PropSet_(bD,"user",bG),bI!=null&&bI.$==1&&(_0.haveQuestion(bE,bF)&&bD.get_DialogueQuestions().length>0&&(bD.get_DialogueQuestions())[0].get_Name()===bF&&(bH=bI.$0,true)))?_0.have(bD,bF)?(bJ=bD.get_Props().get_Item(bF),(_0["delete"](bD,bF),{$:1,$0:[bH,{$:1,$0:bJ}]})):{$:1,$0:[bH,null]}:null;};_0["User'_"]=function(bD,bE){var bF,bG;return(bG=_0.PropNotSet_(bD,"user",bE),bG!=null&&bG.$==1&&(bD.get_DialogueQuestions().length===0&&(bF=bG.$0,true)))?{$:1,$0:bF}:null;};_0.User_=function(bD,bE){var bF,bG;return(bG=_0.PropSet_(bD,"user",bE),bG!=null&&bG.$==1&&(bD.get_DialogueQuestions().length===0&&(bF=bG.$0,true)))?{$:1,$0:bF}:null;};_0.PropNotSet_=function(bD,bE,bF){return!_0.have(bD,bE)?{$:1,$0:bF}:null;};_0.PropSet_=function(bD,bE,bF){return _0.have(bD,bE)?{$:1,$0:bF}:null;};_0.Agenda_=function(bD,bE,bF){return bD.get_DialogueQuestions().length>0&&(bD.get_DialogueQuestions())[0].get_Module()===bE?{$:1,$0:null}:null;};_0.didNotUnderstand=function(bD,bE,bF){var bG;bE((function(bH){return function(bI){return bH(bh.toSafe(bI)+" interpreter did not understand utterance.");};}(a.id))(bF));_0.say(bD,"Sorry I didn't understand what you meant.");bD.get_DialogueQuestions().length>0?(bG=bm.nth(0,bD.get_DialogueQuestions()),_0.have(bD,bG.get_Name())?_0.say(bD,D.replace_tok("$0",bD.get_Props().get_Item(bG.get_Name()),bG.get_Text())):_0.say(bD,bG.get_Text())):void 0;};_0.dispatch=function(bD,bE,bF,bG){bE((((($.Curried(function(bH,bI,bJ,bK){return bH("Dispatch to module "+bh.toSafe(bI)+" utterances: "+bh.prettyPrint(bJ)+" questions: "+bh.prettyPrint(bK)+".");},4))(a.id))(bF))(bD.get_Utterances()))(bD.get_DialogueQuestions()));bG(bD);};_0["handle'"]=function(bD,bE,bF,bG){_0.popt(bD);bE((function(bH){return function(bI){return bH("Turn end: "+bh.toSafe(bI)+".");};}(a.id))(bF));bG();};_0.handle=function(bD,bE,bF,bG){_0.popu(bD);bE((function(bH){return function(bI){return bH("Handle: "+bh.toSafe(bI)+".");};}(a.id))(bF));bG();};_0.ask=function(bD,bE,bF,bG,bH,bI){var bJ,bK,bL,bM;bJ=_0.getQuestion(bF,bG).$0;_0.add(bD,bG,bH);_0.pushq(bD,bF,bG);D.replace_tok("$0",bH,bJ.get_Text());bK=bJ.get_Type();bK.$==0?(bL=bK.$0,bD.get_Cui().TypingDNA.reset(),d.questionBox("Biometric Authentication","",640,480,function(){var bN,bO;bN=bD.get_Cui().GetSameTextTypingPattern("Hello my name is John Brown and I am an administrator",null);bE("Text pattern: "+bN);bO=bg.get(bj(".swal2-content").get(),0).firstChild.firstChild;(bL(bN))(bO);}),bg.get(bj(".swal2-input").get(),0).setAttribute("id","auth-input"),bD.get_Cui().MonitorTypingPattern(null),bM=d.createCanvas("camera","640","480",bg.get(bj(".swal2-content").get(),0).firstChild),d.startCamera(self.document.body,bM)):void 0;};_0.popt=function(bD){_0.popu(bD);_0.popq(bD);};_0.pushq=function(bD,bE,bF){var bG;bG=_0.getQuestion(bE,bF);bG==null?(function(bH){return function(bI){return bH("No such question: "+bh.toSafe(bI));};}(bw.FailWith))(bF):bD.get_DialogueQuestions().unshift(bG.$0);};_0.popq=function(bD){bD.get_DialogueQuestions().shift();};_0.popu=function(bD){bD.get_Utterances().shift();};_0.pushu=function(bD,bE){bD.get_Utterances().unshift(bE);};_0.haveQuestion=function(bD,bE){return bl.exists(function(bF){return bF.get_Name()===bE;},bD);};_0.getQuestion=function(bD,bE){return bm.tryFind(function(bF){return bF.get_Name()===bE;},bD);};_0.prop=function(bD,bE){return bD.get_Props().get_Item(bE);};_0["delete"]=function(bD,bE){bD.get_Props().Remove(bE);};_0.add=function(bD,bE,bF){bD.get_Props().Add(bE,bF);};_0.have=function(bD,bE){return bD.get_Props().ContainsKey(bE);};_0.question=function(bD,bE,bF,bG){return new Y({$:0,$0:bE,$1:bF,$2:bG,$3:bD});};_0["sayRandom'"]=function(bD,bE){_0.sayRandom(bD,bE,"");};_0.sayRandom=function(bD,bE,bF){var bG;bG=D.getRandomPhrase(bE,bF);bD.get_Output().unshift(bG);bD.get_Cui().Say(bG);};_0.say=function(bD,bE){bD.get_Output().unshift(bE);_0["say'"](bD,bE);};_0["say'"]=function(bD,bE){bD.get_Cui().Say(bE);};_0.echo=function(bD,bE){(bD.get_Cui())["EchoHtml'"](bE);};_2.update=function(bD){var bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC;function cD(cT){_2.debug(cT);}function cE(cT){_2.debug(cT);}function cF(cT){_0.echo(bD,cT);}function cG(cT){_0.say(bD,cT);}function cH(cT,cU){return _0.sayRandom(bD,cT,cU);}function cI(cT,cU){return _0.add(bD,cT,cU);}function cJ(cT){return _0.prop(bD,cT);}function cK(){return cJ("user");}function cL(cT){_2.debug(cT);}function cM(cT){return _0.User_(bD,cT);}function cN(cT){return _0["User'_"](bD,cT);}function cO(cT,cU){return _0.Response_(bD,bK,cT,cU);}function cP(cT,cU){return _0["Response'_"](bD,bK,cT,cU);}function cQ(cT){var cU;cH(D.waitRetrievePhrases(),"user name");bo.Start((cU=null,bo.Delay(function(){return bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.getUser:338219414",[cT]),function(cV){var cW;return cV==null?(cG((function(cX){return function(cY){return cX("I did not find a user with the name "+bh.toSafe(cY)+".");};}(a.id))(cT)),((bL("addUser"))(cT))(function(cX){_2.update(cX);}),bo.Zero()):(cW=cV.$0,bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.updateUserLastLogin:-1863173564",[cW.Name]),function(){cI("user",cW);cH(D.helloUserPhrases(),(function(cX){return function(cY){return cX(bh.prettyPrint(cY));};}(a.id))(bF.get_Item("user")));return cW.LastLoggedIn!=null?bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.humanize:-1137838284",[cW.LastLoggedIn.$0]),function(cX){cG((function(cY){return function(cZ){return cY("You last logged in "+bh.toSafe(cZ)+".");};}(a.id))(cX));cG("Since you will be accessing sensitive data I need to authenticate you via facial recognition and typing behaviour. Enter the pass phrase you were assigned during enrollment in the box provided. Then, look into your camera until you see the red box around your face and press the Ok button.");((bL("authenticateUser"))(cT))(function(cY){_2.update(cY);});return bo.Zero();}):bo.Zero();}));});})),null);}function cR(cT,cU){var cV;return bo.Start((cV=null,bo.Delay(function(){cH(D.waitAddPhrases(),"user");return bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.addUser:-1863173564",[cT]),function(cW){return cW.$==1?(cG((function(cX){return function(cY){return cX("Sorry I was not able to add the user "+bh.toSafe(cY)+" to the system.");};}(a.id))(cT)),bo.Zero()):bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.addUserTypingPattern:515200359",[cT,cU]),function(cX){return cX.$==1?(cG((function(cY){return function(cZ){return cY("Sorry I was not able to add the user "+bh.toSafe(cZ)+" to the system.");};}(a.id))(cT)),bo.Zero()):(cI("user",cT),cG((function(cY){return function(cZ){return cY("Hello "+bh.prettyPrint(cZ)+", nice to meet you.");};}(a.id))(bF.get_Item("user"))),bo.Zero());});});})),null);}function cS(cT,cU,cV){var cW;return bo.Start((cW=null,bo.Delay(function(){cH(D.waitAddPhrases(),"symptom entry");return bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.addSymptomJournalEntry:-973190392",[cK().Name,cT,cU,cV]),function(cX){return cX.$==1?(cG(function(cY){return cY("Sorry I wasn't able to add that symptom to your journal. Could you try again?");}(a.id)),bo.Zero()):(cG((function(cY){return function(cZ){return cY("OK I added that "+bh.toSafe(cZ)+" symptom to your journal.");};}(a.id))(cT)),bo.Zero());});})),null);}bE=bD.$4;bF=bD.$1;bG=bD.$2;bH=bD.$0;bI=$.Curried(_0.handle,2,[bD,cD]);bJ=$.Curried(_0["handle'"],2,[bD,cE]);bK=bl.ofArray([new Y({$:0,$0:"authenticateUser",$1:"",$2:{$:0,$0:function(cT){return function(){var cU;return cT==null?bH.Say("Sorry I could not authenticate your pass phrase."):bo.Start((cU=null,bo.Delay(function(){return bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.verifyUserTypingPattern:1379613810",["john",cT]),function(cV){_2.debug((function(cW){return function(cX){return cW("TypingDNA: "+_8.p$9(cX));};}(a.id))(cV));return cV.$==1?(d.error(cV.$0),bo.Zero()):cV.$0.confidence>50?(bH.Say("You are now authenticated."),bo.Zero()):(bH.Say("Sorry I could not authenticate your passphrase."),bo.Zero());});})),null);};}},$3:_2.name()}),new Y({$:0,$0:"addUser",$1:"Do you want me to add the user $0?",$2:Z.Verification,$3:_2.name()}),new Y({$:0,$0:"switchUser",$1:"Do you want me to switch to the user $0?",$2:Z.Verification,$3:_2.name()})]);_2.debug(((($.Curried3(function(cT,cU,cV){return cT("Starting utterances:"+bh.prettyPrint(cU)+". Starting questions: "+bh.prettyPrint(cV)+".");}))(a.id))(bE))(bG));bL=$.Curried(_0.ask,3,[bD,cL,bK]);bM=bl.ofSeq(bm.take(bE.length>=5?5:bE.length,bE));bM.$==1&&(bO=cN(bM.$0),bO!=null&&bO.$==1&&(bP=F.Intent$1("greet",bO.$0),bP!=null&&bP.$==1&&(bQ=F.Entity1Of1("name",bP.$0[1]),bQ!=null&&bQ.$==1&&(bM.$1.$==0&&(bN=bQ.$0,true)))))?(bI("loginUser"))(function(){cQ(bN.get_Value());}):bM.$==1&&(bS=cN(bM.$0),bS!=null&&bS.$==1&&(bT=F.Intent$1("hello",bS.$0),bT!=null&&bT.$==1&&(bU=F.Entity1Of1("contact",bT.$0[1]),bU!=null&&bU.$==1&&(bM.$1.$==0&&(bR=bU.$0,true)))))?(bI("loginUser"))(function(){cQ(bR.get_Value());}):bM.$==1&&(bW=cP("inputPassPhrase",bM.$0),bW!=null&&bW.$==1&&(bX=F.Str(bW.$0[1]),bX!=null&&bX.$==1&&(bM.$1.$==0&&(bV=[bM.$0,bX.$0],true))))?(bY=bV[0],bZ=bV[1],(bJ("addUser"))(function(){bH.TypingDNA.stop();cR(bZ,bH.GetSameTextTypingPattern(bY.get_Text(),null));})):bM.$==1&&(b1=F.Yes(bM.$0),b1!=null&&b1.$==1&&(b2=cP("addUser",b1.$0),b2!=null&&b2.$==1&&(b3=F.Str(b2.$0[1]),b3!=null&&b3.$==1&&(bM.$1.$==0&&(b0=b3.$0,true)))))?(bJ("inputPassPhrase"))(function(){bH.TypingDNA.start();((bL("inputPassPhrase"))(b0))(function(cT){_2.update(cT);});}):bM.$==1&&(b5=F.No(bM.$0),b5!=null&&b5.$==1&&(b6=cP("addUser",b5.$0),b6!=null&&b6.$==1&&(b7=F.Str(b6.$0[1]),b7!=null&&b7.$==1&&(bM.$1.$==0&&(b4=b7.$0,true)))))?(bJ("no"))(function(){cG((function(cT){return function(cU){return cT("Ok I did not add the user "+bh.toSafe(cU)+". But you must login for me to help you.");};}(a.id))(b4));}):bM.$==1&&(b9=cM(bM.$0),b9!=null&&b9.$==1&&(b_=F.Intent$1("hello",b9.$0),b_!=null&&b_.$==1&&(b_.$0[0]==null&&(b$=F.Entity1Of1("name",b_.$0[1]),b$!=null&&b$.$==1&&(bM.$1.$==0&&(b8=b$.$0,true))))))?bo.Start((ca=null,bo.Delay(function(){return bo.Bind((new by.New()).Async("SMApp.Web:SMApp.Web.Server.getUser:338219414",[b8.get_Value()]),function(cT){return cT==null?(cG((function(cU){return function(cV){return cU("Sorry, the user "+bh.toSafe(cV)+" does not exist.");};}(a.id))(b8.get_Value())),bo.Zero()):(((bL("switchUser"))(cT.$0.Name))(function(cU){_2.update(cU);}),bo.Zero());});})),null):bM.$==1&&(cc=F.Yes(bM.$0),cc!=null&&cc.$==1&&(cd=cO("switchUser",cc.$0),cd!=null&&cd.$==1&&(ce=F.Str(cd.$0[1]),ce!=null&&ce.$==1&&(bM.$1.$==0&&(cb=ce.$0,true)))))?(bF.set_Item("user",cb),cG((function(cT){return function(cU){return cT("Ok I switched to user "+bh.prettyPrint(cU)+".");};}(a.id))(cb))):bM.$==1&&(cg=F.No(bM.$0),cg!=null&&cg.$==1&&(ch=cO("switchUser",cg.$0),ch!=null&&ch.$==1&&(ci=F.Str(ch.$0[1]),ci!=null&&ci.$==1&&(bM.$1.$==0&&(cf=ci.$0,true)))))?cG((function(cT){return function(cU){return cT("Ok I did not switch to user "+bh.toSafe(cU)+".");};}(a.id))(cf)):bM.$==1&&(ck=cN(bM.$0),ck!=null&&ck.$==1?(cl=F.Intent$1("kbquery",ck.$0),cl!=null&&cl.$==1)?bM.$1.$==0&&(cj=ck.$0,true):(cm=cM(bM.$0),cm!=null&&cm.$==1&&((cn=F.Intent$1("kbquery",cm.$0),cn!=null&&cn.$==1)&&(bM.$1.$==0&&(cj=cm.$0,true)))):(co=cM(bM.$0),co!=null&&co.$==1&&((cp=F.Intent$1("kbquery",co.$0),cp!=null&&cp.$==1)&&(bM.$1.$==0&&(cj=co.$0,true)))))?bo.Start((cq=null,bo.Delay(function(){return bo.Bind(y.getAnswer(cj.get_Text()),function(cT){var cU;return bo.Bind((cU=bg.get(cT.answers,0).answer,(new by.New()).Async("SMApp.Web:SMApp.Web.Server.mdtohtml:-941603881",[cU])),function(cV){var cW;return bo.Bind((cW=bg.get(cT.answers,0).answer,(new by.New()).Async("SMApp.Web:SMApp.Web.Server.mdtotext:-941603881",[cW])),function(cX){cF(cV);cG(cX);return bo.Zero();});});});})),null):bM.$==1&&(cs=cM(bM.$0),cs!=null&&cs.$==1&&(ct=F.Intent$1("symptom",cs.$0),ct!=null&&ct.$==1&&(cu=F.Entity1OfAny("symptom_name",ct.$0[1]),cu!=null&&cu.$==1&&(bM.$1.$==0&&(cr=cu.$0,true)))))?bo.Start((cv=null,bo.Delay(function(){cG("Ok I'll add that entry to your symptom journal");cS(cr.get_Value(),null,null);return bo.Zero();})),null):bM.$==1&&(cx=F.Yes(bM.$0),cx!=null&&cx.$==1&&((cy=cO("painVideo",cx.$0),cy!=null&&cy.$==1)&&bM.$1.$==0))?bH["EchoHtml'"]("<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/SkAqOditKN0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>"):bM.$==1&&(cA=cM(bM.$0),cA!=null&&cA.$==1&&(cB=F.Intent$1("medjournal",cA.$0),cB!=null&&cB.$==1&&((cC=cB.$0[1],cC!=null&&cC.$==1)&&(bM.$1.$==0&&(cz=cB.$0[1].$0,true)))))?(cG("ok I added that entry to your medication journal."),cG("You should be careful not to take too many painkillers over a short period of time.")):_0.didNotUnderstand(bD,function(cT){_2.debug(cT);},_2.name());_2.debug(((($.Curried3(function(cT,cU,cV){return cT("Ending utterances: "+bh.prettyPrint(cU)+". Ending questions:"+bh.prettyPrint(cV)+".");}))(a.id))(bE))(bG));};_2.debug=function(bD){d.debug(_2.name(),bD);};_2.name=function(){_3.$cctor();return _3.name;};_3.$cctor=function(){_3.$cctor=a.ignore;_3.name="User";};_4.update=function(bD){var bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ;function b0(b5){_0.say(bD,b5);}function b1(b5){_0["sayRandom'"](bD,b5);}function b2(b5){_4.debug(b5);}function b3(b5){_4.debug(b5);}function b4(b5){return _0["User'_"](bD,b5);}bE=bD.$4;bF=bD.$2;_4.debug(((($.Curried3(function(b5,b6,b7){return b5("Starting utterances:"+bh.prettyPrint(b6)+". Starting questions: "+bh.prettyPrint(b7)+".");}))(a.id))(bE))(bF));bG=$.Curried(_0.dispatch,2,[bD,b2]);bH=$.Curried(_0.handle,2,[bD,b3]);bI=bl.ofSeq(bm.take(bE.length>=5?5:bE.length,bE));bJ=_0.Agenda_(bD,_2.name(),bI);bJ!=null&&bJ.$==1?_2.update(bD):bI.$==1&&(bL=(bM=_0.PropNotSet_(bD,"started",bI.$0),bM!=null&&bM.$==1?{$:1,$0:bM.$0}:null),bL!=null&&bL.$==1&&(bN=b4(bL.$0),bN!=null&&bN.$==1&&(bO=F.Intent$1("greet",bN.$0),bO!=null&&bO.$==1&&(bO.$0[1]==null&&bI.$1.$==0))))?(_0.add(bD,"started",true),(bH("Hello"))(function(){b1(D.helloPhrases());})):bI.$==1&&(bQ=b4(bI.$0),bQ!=null&&bQ.$==1&&(bR=F.Intent$1("greet",bQ.$0),bR!=null&&bR.$==1&&(bR.$0[1]==null&&bI.$1.$==0)))?(bH("Hello"))(function(){b0("Hello, tell me your name to get started.");}):bI.$==1&&(bT=b4(bI.$0),bT!=null&&bT.$==1&&(bU=F.Intent$1("greet",bT.$0),bU!=null&&bU.$==1&&((bV=F.Entity1Of1("name",bU.$0[1]),bV!=null&&bV.$==1)&&bI.$1.$==0)))?(bG(_2.name()))(function(b5){_2.update(b5);}):bI.$==1&&(bX=b4(bI.$0),bX!=null&&bX.$==1&&(bY=F.Intent$1("hello",bX.$0),bY!=null&&bY.$==1&&((bZ=F.Entity1Of1("contact",bY.$0[1]),bZ!=null&&bZ.$==1)&&bI.$1.$==0)))?(bG(_2.name()))(function(b5){_2.update(b5);}):_0.didNotUnderstand(bD,function(b5){_4.debug(b5);},_4.name());_4.debug(((($.Curried3(function(b5,b6,b7){return b5("Ending utterances: "+bh.prettyPrint(b6)+". Ending questions:"+bh.prettyPrint(b7)+".");}))(a.id))(bE))(bF));};_4.haveQuestion=function(bD){return bl.exists(function(bE){return bE.get_Name()===bD;},_4.moduleQuestions());};_4.getQuestion=function(bD){return bm.tryFind(function(bE){return bE.get_Name()===bD;},_4.moduleQuestions());};_4.moduleQuestions=function(){_5.$cctor();return _5.moduleQuestions;};_4.debug=function(bD){d.debug(_4.name(),bD);};_4.name=function(){_5.$cctor();return _5.name;};_5.$cctor=function(){_5.$cctor=a.ignore;_5.name="Main";_5.moduleQuestions=bl.T.Empty;};_6.run=function(){var bD,bE;bD=$.ThisFunc(function(bF,bG){return((_6.Main().get_Text())(bF))(bG);});bE=_6.Main().get_Options();a.$("#term").terminal(bD,bE);return bc.get_Empty();};_6.Main=function(){_7.$cctor();return _7.Main;};_6.initMic=function(bD){var bE,bF;_6.set_CUI((bE={$:1,$0:new bz.Microphone(bA.getElementById("microphone"))},X.New(_6.CUI().Voice,bE,_6.CUI().Term,_6.CUI().Avatar,_6.CUI().Caption,_6.CUI().TypingDNA,_6.CUI().AudioEnd)));bF=_6.CUI().Mic.$0;bF.onconnecting=function(){_6.set_MicState(U.MicConnecting);return _6.debug("Mic connecting...");};bF.ondisconnected=function(){_6.set_MicState(U.MicDisconnected);return _6.debug("Mic disconnected.");};bF.onaudiostart=function(){_6.set_MicState(U.MicAudioStart);return _6.debug("Mic audio start...");};bF.onaudioend=function(){_6.set_MicState(U.MicAudioEnd);_6.debug("Mic audio end.");return _6.debug(self.lastMicData);};bF.onerror=function(bG){_6.set_MicState({$:6,$0:bG});return _6.debug((function(bH){return function(bI){return bH("Mic error : "+bh.toSafe(bI)+".");};}(a.id))(bG));};bF.onready=function(){_6.set_MicState(U.MicReady);return _6.debug("Mic ready.");};bF.onresult=function(bG,bH){return _6.ClientState().$==2?_6.echo("I'm still trying to understand what you said before."):_6.ClientState().$==0?d.error("Client is not intialized."):!(bG==null||bH==null)?(_6.set_MicState({$:7,$0:bG,$1:bH}),_6.debug(((($.Curried3(function(bI,bJ,bK){return bI("Mic result: "+bh.prettyPrint(bJ)+" "+bh.prettyPrint(bK)+".");}))(a.id))(bG))(bH)),bD(bG,bH)):_6.debug("Mic: No result returned.");};bF.connect("4Y2BLQY5TWLIN7HFIV264S53MY4PCUAT");};_6.sayRandom=function(bD,bE){_6.say(D.getRandomPhrase(bE,bD));};_6.say=function(bD){_6.Output().unshift(bD);_6["say'"](bD);};_6["say'"]=function(bD){_6.CUI().Say(bD);};_6.initSpeech=function(){var bD;bD=d.toArray(_6.synth().getVoices());bg.length(bD)>0?(bg.iter(function(bE){if(bB.Equals(_6.CUI().Voice,null)&&(bE.name.indexOf("Microsoft Zira")!=-1||bE.name.toLowerCase().indexOf("female")!=-1)){_6.set_CUI(X.New({$:1,$0:bE},_6.CUI().Mic,_6.CUI().Term,_6.CUI().Avatar,_6.CUI().Caption,_6.CUI().TypingDNA,_6.CUI().AudioEnd));_6.debug((function(bF){return function(bG){return bF("Using browser speech synthesis voice "+bh.toSafe(bG)+".");};}(a.id))(_6.CUI().Voice.$0.name));}},bD),!bB.Equals(_6.CUI().Voice,null)?(_6.CUI().Avatar.nativeVoice=true,_6.CUI().Avatar.nativeVoiceName=_6.CUI().Voice.$0.name,_6.debug((function(bE){return function(bF){return bE("Using browser speech synthesis voice "+bh.toSafe(bF)+".");};}(a.id))(_6.CUI().Voice.$0.name))):void 0):void 0;bB.Equals(_6.CUI().Voice,null)?_6.debug("No female browser speech synthesis voice is available. Using CMU SLT Female voice via TTS."):void 0;};_6.synth=function(){_7.$cctor();return _7.synth;};_6.push=function(bD){_6.Utterances().unshift(bD);return _6.Dialogue();};_6.Dialogue=function(){_7.$cctor();return _7.Dialogue;};_6.Utterances=function(){_7.$cctor();return _7.Utterances;};_6.Questions=function(){_7.$cctor();return _7.Questions;};_6.Output=function(){_7.$cctor();return _7.Output;};_6.Props=function(){_7.$cctor();return _7.Props;};_6.wait=function(bD){d["Terminal.Echo'"](_6.CUI().Term,"please wait");_6.CUI().Term.pause();bD();_6.CUI().Term.resume();};_6.debug=function(bD){d.debug("CLIENT",bD);};_6.echo=function(bD){d["Terminal.EchoHtml'"](_6.CUI().Term,(function(bE){return function(bF){return bE(bh.prettyPrint(bF));};}(a.id))(bD));};_6.ClientState=function(){_7.$cctor();return _7.ClientState;};_6.set_ClientState=function(bD){_7.$cctor();_7.ClientState=bD;};_6.MicState=function(){_7.$cctor();return _7.MicState;};_6.set_MicState=function(bD){_7.$cctor();_7.MicState=bD;};_6.CUI=function(){_7.$cctor();return _7.CUI;};_6.set_CUI=function(bD){_7.$cctor();_7.CUI=bD;};_7.$cctor=function(){var bD,bE,bF,bG;_7.$cctor=a.ignore;function bH(bJ,bK){var bL,bM,bN,bO,bP,bQ,bR;_6.debug(((($.Curried3(function(bS,bT,bU){return bS("Voice: "+bh.prettyPrint(bT)+" "+bh.prettyPrint(bU));}))(a.id))(bJ))(bK));bL=(bM=K["Intent'"](bJ,bK),bM!=null&&bM.$==1?{$:1,$0:bM.$0}:null);bN=(bO=K["Trait'"](bK),bO!=null&&bO.$==1?{$:1,$0:bl.ofArray([bO.$0])}:null);bP=(bQ=K["Entity'$1"](bK),bQ!=null&&bQ.$==1?{$:1,$0:bl.ofArray([bQ.$0])}:null);bL==null&&(bN==null&&bP==null)?void 0:(_6.debug((((($.Curried(function(bS,bT,bU,bV){return bS("Voice: "+_8.p(bT)+" "+_8.p$3(bU)+" "+_8.p$5(bV));},4))(a.id))(bL))(bN))(bP)),_4.update(_6.push(new J({$:0,$0:"",$1:bL,$2:bN,$3:bP}))));}function bI(bJ,bK){var bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV;_6.set_CUI(X.New(_6.CUI().Voice,_6.CUI().Mic,bJ,_6.CUI().Avatar,_6.CUI().Caption,_6.CUI().TypingDNA,_6.CUI().AudioEnd));bB.Equals(_6.CUI().Mic,null)?_6.initMic(bH):void 0;bB.Equals(_6.CUI().Voice,null)?_6.initSpeech():void 0;_6.ClientState().$===0?_6.set_ClientState(V.ClientReady):void 0;return(bL=M.Blank(bK),bL!=null&&bL.$==1)?_6["say'"]("Tell me what you want me to do or ask me a question."):(bM=M.Debug(bK),bM!=null&&bM.$==1)?(_6.debug((function(bW){return function(bX){return bW("Utterances: "+bh.prettyPrint(bX));};}(a.id))(_6.Utterances())),_6.debug((function(bW){return function(bX){return bW("Questions: "+bh.prettyPrint(bX));};}(a.id))(_6.Questions()))):(bN=M.Voices(bK),bN!=null&&bN.$==1)?(bO=d.toArray(d.speechSynthesis().getVoices()),(_6["say'"]((function(bW){return function(bX){return bW("There are currently "+a.String(bX)+" voices installed on this computer or device.");};}(a.id))(bg.length(bO))),bg.iteri(function(bW,bX){return _6["say'"]((((($.Curried(function(bY,bZ,b0,b1){return bY("Voice "+a.String(bZ)+". Name: "+bh.toSafe(b0)+", Local: "+bh.prettyPrint(b1)+".");},4))(a.id))(bW))(bX.name))(bX.localService));},bO))):_6.ClientState().$==1?(bQ=M.QuickHello(bK),bQ!=null&&bQ.$==1?(bP=bQ.$0,true):(bR=M.QuickHelp(bK),bR!=null&&bR.$==1?(bP=bR.$0,true):(bS=M.QuickYes(bK),bS!=null&&bS.$==1?(bP=bS.$0,true):(bT=M.QuickNo(bK),bT!=null&&bT.$==1?(bP=bT.$0,true):(bU=M.QuickNumber(bK),bU!=null&&bU.$==1&&(bP=bU.$0,true))))))?(_6.debug((function(bW){return function(bX){return bW("Quick Text: "+_8.p$7(bX)+".");};}(a.id))(bP)),_4.update(_6.push(bP)),_6.set_ClientState(V.ClientReady)):_6.CUI().Wait((bV=null,bo.Delay(function(){_6.set_ClientState(V.ClientUnderstand);M.getUtterance(bK,function(bW){var bX,bY;bX=M.HasUtterance(bW);bX!=null&&bX.$==1?(bY=bX.$0,_6.debug((((($.Curried(function(bZ,b0,b1,b2){return bZ("Text: Intent: "+_8.p(b0)+", Traits: "+_8.p$3(b1)+", Entities: "+_8.p$5(b2)+".");},4))(a.id))(bY.get_Intent()))(bY.get_Traits()))(bY.get_Entities())),_4.update(_6.push(bY))):(_6.debug("Text: Did not receive a meaning from the server."),_6["say'"]("Sorry I did not understand what you said."));});_6.set_ClientState(V.ClientReady);return bo.Zero();}))):_6.ClientState().$==0?d.error("Client is not initialized."):_6["say'"]("I'm still trying to understand what you said before.");}_7.CUI=X.New(null,null,null,(bv.applicationId="4277115329081938617",bD=new a.SDKConnection(),bE=new a.WebAvatar(),bE.version=8.5,bE.connection=bD,bE.avatar="20926186",bE.voice="cmu-slt",bE.voiceMod="default",bE.width=175,bE.createBox(),bE.addMessage(""),bE.processMessages(0),bE),false,(bF=new a.TypingDNA(),(bF.stop(),bF)),[]);_7.MicState=U.MicNotInitialized;_7.ClientState=V.ClientNotInitialzed;_7.Props=new bC.New$5();_7.Output=[];_7.Questions=[];_7.Utterances=[];_7.Dialogue=new _1({$:0,$0:_6.CUI(),$1:_6.Props(),$2:_6.Questions(),$3:_6.Output(),$4:_6.Utterances()});_7.synth=a.speechSynthesis;_7.Main=new W({$:0,$0:function(bJ){return bH(bJ[0],bJ[1]);},$1:[function(bJ){return function(bK){return bI(bJ,bK);};},(bG={},bG.name="Main",bG.greetings="Welcome to Selma. Enter 'hello' or 'hello my name is...(you) to initialize speech.",bG.prompt=">",bG)]});};_8.p$8=function(bD){return bD.$==3?"ConceptCompletion":bD.$==2?"Disjunctive":bD.$==1?"Verification":"UserAuthentication <fun>";};_9.p=function(bD){return"{"+("text = "+bh.prettyPrint(bD.text))+"; "+("intents = "+bh.printArray(function(bE){return _9.p$1(bE);},bD.intents))+"; "+("entities = "+bh.prettyPrint(bD.entities))+"; "+("traits = "+bh.prettyPrint(bD.traits))+"}";};_9.p$1=function(bD){return"{"+("id = "+bh.prettyPrint(bD.id))+"; "+("name = "+bh.prettyPrint(bD.name))+"; "+("confidence = "+bh.prettyPrint(bD.confidence))+"}";};_8.p$9=function(bD){return bD.$==1?"Error "+bh.prettyPrint(bD.$0):"Ok "+_9.p$2(bD.$0);};_9.p$2=function(bD){return"{"+("message = "+bh.prettyPrint(bD.message))+"; "+("message_code = "+bh.prettyPrint(bD.message_code))+"; "+("success = "+bh.prettyPrint(bD.success))+"; "+("result = "+bh.prettyPrint(bD.result))+"; "+("score = "+bh.prettyPrint(bD.score))+"; "+("confidence = "+bh.prettyPrint(bD.confidence))+"}";};_8.p$2=function(bD){return bD==null?"null":"Some "+bh.prettyPrint(bD.$0);};_8.p$1=function(bD){return"Intent ("+bh.prettyPrint(bD.$0)+", "+_8.p$2(bD.$1)+")";};_8.p=function(bD){return bD==null?"null":"Some "+_8.p$1(bD.$0);};_8.p$4=function(bD){return"Trait ("+bh.prettyPrint(bD.$0)+", "+bh.prettyPrint(bD.$1)+", "+_8.p$2(bD.$2)+")";};_8.p$3=function(bD){return bD==null?"null":"Some "+bh.printList(function(bE){return _8.p$4(bE);},bD.$0);};_8.p$6=function(bD){return"Entity ("+bh.prettyPrint(bD.$0)+", "+bh.prettyPrint(bD.$1)+", "+bh.prettyPrint(bD.$2)+", "+_8.p$2(bD.$3)+")";};_8.p$5=function(bD){return bD==null?"null":"Some "+bh.printList(function(bE){return _8.p$6(bE);},bD.$0);};_8.p$7=function(bD){return"Utterance ("+bh.prettyPrint(bD.$0)+", "+_8.p(bD.$1)+", "+_8.p$3(bD.$2)+", "+_8.p$5(bD.$3)+")";};}());
