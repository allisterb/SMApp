(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y;a=self;b=a.SMApp=a.SMApp||{};c=b.Web=b.Web||{};d=c.ClientExtensions=c.ClientExtensions||{};e=c._Html=c._Html||{};f=c.htmModule=c.htmModule||{};g=a.StartupCode$SMApp_Web$ClientExtensions=a.StartupCode$SMApp_Web$ClientExtensions||{};h=b.Bootstrap=b.Bootstrap||{};i=h.Controls=h.Controls||{};j=a.StartupCode$SMApp_Web$Bootstrap=a.StartupCode$SMApp_Web$Bootstrap||{};k=c.NLU=c.NLU||{};l=k.Intent=k.Intent||{};m=k.Trait=k.Trait||{};n=k.Meaning=k.Meaning||{};o=k.NLUContext=k.NLUContext||{};p=k.Voice=k.Voice||{};q=p["Entity'"]=p["Entity'"]||{};r=k.Text=k.Text||{};s=r.Meaning=r.Meaning||{};t=r.Intent=r.Intent||{};u=r.Entity=r.Entity||{};v=a.StartupCode$SMApp_Web$NLU=a.StartupCode$SMApp_Web$NLU||{};w=c.CUI=c.CUI||{};x=c.CUIModule=c.CUIModule||{};y=x.User=x.User||{};z=x.Interpreter=x.Interpreter||{};A=a.StartupCode$SMApp_Web$CUI=a.StartupCode$SMApp_Web$CUI||{};B=c.Main=c.Main||{};C=c.Client=c.Client||{};D=a.StartupCode$SMApp_Web$Client=a.StartupCode$SMApp_Web$Client||{};E=a.SMApp$Web_GeneratedPrintf=a.SMApp$Web_GeneratedPrintf||{};F=a.WebSharper;G=F&&F.Arrays;H=a.jQuery;I=F&&F.Utils;J=a.console;K=a.IntelliFactory;L=K&&K.Runtime;M=F&&F.Strings;N=F&&F.List;O=F&&F.Seq;P=F&&F.UI;Q=P&&P.Doc;R=P&&P.AttrModule;S=F&&F.Concurrency;T=F&&F.Random;U=F&&F.Remoting;V=U&&U.AjaxRemotingProvider;W=a.Wit;X=a.document;Y=F&&F.Unchecked;d.toArray=function(Z){return G.map(a.id,H.makeArray(Z));};d.debug=function(Z){d.info((function(_0){return function(_1){return _0("DEBUG: "+I.toSafe(_1));};}(a.id))(Z));};d.error=function(Z){J.error(Z);};d.info=function(Z){J.info(Z);};d.jserror=function(Z){H.error(Z);};d["Terminal.EchoHtml'"]=function(Z,_0){Z.disable();Z.echo(_0,d.rawOpt());Z.enable();};d["Terminal.Echo'"]=function(Z,_0){Z.disable();Z.echo(_0);Z.enable();};d.rawOpt=function(){g.$cctor();return g.rawOpt;};e=c._Html=L.Class({toString:function(){return e.toString(this);}},null,e);e.toString=function(Z){function _0(_1){return function(_2){var _3,_4,_5,_6,_7,_8,_9;_4=M.replicate(_1," ");switch(_2.$==0?_2.$1.$==1?_2.$1.$0.$==2?_2.$1.$1.$==0?(_3=[_2.$1.$0.$0,_2.$0],1):(_3=[_2.$1,_2.$0],2):(_3=[_2.$1,_2.$0],2):(_3=[_2.$1,_2.$0],2):_2.$==2?(_3=_2.$0,3):(_3=[_2.$0,_2.$1],0)){case 0:return _3[0]+"=\""+_3[1]+"\"";case 1:_5=_3[1];return _4+"<"+_5+">"+_3[0]+"</"+_5+">\r\n";case 2:_6=_3[1];_7=N.partition(function(_){return _.$==1;},_3[0]);_8=_7[1];_9=_7[0];return _8.$==0?_4+"<"+_6+(_9.$===0?"":" "+M.concat(" ",N.ofSeq(O.delay(function(){return O.map(function(_){return(_0(0))(_);},_9);}))))+"/>\r\n":_4+"<"+_6+(_9.$===0?"":" "+M.concat(" ",N.ofSeq(O.delay(function(){return O.map(function(_){return(_0(0))(_);},_9);}))))+">\r\n"+M.concat("",N.ofSeq(O.delay(function(){return O.map(function(_){return(_0(_1+1))(_);},_8);})))+_4+"</"+_6+">\r\n";case 3:return _4+_3+"\r\n";}};}return(_0(0))(Z);};f.alt=function(Z){return new e({$:1,$0:"alt",$1:Z});};f.src=function(Z){return new e({$:1,$0:"src",$1:Z});};f.cls=function(Z){return new e({$:1,$0:"class",$1:Z});};f.str=function(Z){return e.toString(Z);};f.op_PercentEquals=function(Z,_0){return new e({$:1,$0:Z,$1:_0});};f.op_Splice=function(Z){var _0;return N.ofArray([new e({$:2,$0:(_0=Z,a.String(_0))})]);};f.strong=function(){g.$cctor();return g.strong;};f.h4=function(){g.$cctor();return g.h4;};f.h3=function(){g.$cctor();return g.h3;};f.h2=function(){g.$cctor();return g.h2;};f.h1=function(){g.$cctor();return g.h1;};f.li=function(){g.$cctor();return g.li;};f.ul=function(){g.$cctor();return g.ul;};f.th=function(){g.$cctor();return g.th;};f.td=function(){g.$cctor();return g.td;};f.tr=function(){g.$cctor();return g.tr;};f.a=function(){g.$cctor();return g.a;};f.p=function(){g.$cctor();return g.p;};f.area=function(){g.$cctor();return g.area;};f.map=function(){g.$cctor();return g.map;};f.img=function(){g.$cctor();return g.img;};f.tfoot=function(){g.$cctor();return g.tfoot;};f.tbody=function(){g.$cctor();return g.tbody;};f.thead=function(){g.$cctor();return g.thead;};f.table=function(){g.$cctor();return g.table;};f.span=function(){g.$cctor();return g.span;};f.section=function(){g.$cctor();return g.section;};f.br=function(){g.$cctor();return g.br;};f.div=function(){g.$cctor();return g.div;};f.body=function(){g.$cctor();return g.body;};f.style=function(){g.$cctor();return g.style;};f.title=function(){g.$cctor();return g.title;};f.head=function(){g.$cctor();return g.head;};f.html=function(){g.$cctor();return g.html;};f.elem=function(Z,_0){return new e({$:0,$0:Z,$1:_0});};g.$cctor=function(){var Z;g.$cctor=a.ignore;g.rawOpt=(Z={},Z.raw=true,Z);g.html=function(_0){return f.elem("html",_0);};g.head=function(_0){return f.elem("head",_0);};g.title=function(_0){return f.elem("title",_0);};g.style=function(_0){return f.elem("style",_0);};g.body=function(_0){return f.elem("body",_0);};g.div=function(_0){return f.elem("div",_0);};g.br=function(_0){return f.elem("br",_0);};g.section=function(_0){return f.elem("section",_0);};g.span=function(_0){return f.elem("span",_0);};g.table=function(_0){return f.elem("table",_0);};g.thead=function(_0){return f.elem("thead",_0);};g.tbody=function(_0){return f.elem("tbody",_0);};g.tfoot=function(_0){return f.elem("tfoot",_0);};g.img=function(_0){return f.elem("img",_0);};g.map=function(_0){return f.elem("map",_0);};g.area=function(_0){return f.elem("area",_0);};g.p=function(_0){return f.elem("p",_0);};g.a=function(_0){return f.elem("a",_0);};g.tr=function(_0){return f.elem("tr",_0);};g.td=function(_0){return f.elem("td",_0);};g.th=function(_0){return f.elem("th",_0);};g.ul=function(_0){return f.elem("ul",_0);};g.li=function(_0){return f.elem("li",_0);};g.h1=function(_0){return f.elem("h1",_0);};g.h2=function(_0){return f.elem("h1",_0);};g.h3=function(_0){return f.elem("h1",_0);};g.h4=function(_0){return f.elem("h1",_0);};g.strong=function(_0){return f.elem("strong",_0);};};i.Radio=function(Z,_0,_1,_2,_3){return Q.Element("div",new N.T({$:1,$0:(i.cls())("radio"),$1:_0}),[Q.Element("label",_2,[Q.Radio(_3,true,_1),Q.TextNode(Z)])]);};i.Checkbox=function(Z,_0,_1,_2,_3){return Q.Element("div",new N.T({$:1,$0:(i.cls())("checkbox"),$1:_0}),[Q.Element("label",_2,[Q.CheckBox(_3,_1),Q.TextNode(Z)])]);};i.TextArea=function(Z,_0,_1,_2,_3){return Q.Element("div",new N.T({$:1,$0:(i.cls())("form-group"),$1:_0}),[Q.Element("label",_2,[Q.TextNode(Z)]),Q.InputArea(new N.T({$:1,$0:(i.cls())("form-control"),$1:_3}),_1)]);};i.InputPassword=function(Z,_0,_1,_2,_3){return Q.Element("div",new N.T({$:1,$0:(i.cls())("form-group"),$1:_0}),[Q.Element("label",_2,[Q.TextNode(Z)]),Q.PasswordBox(new N.T({$:1,$0:(i.cls())("form-control"),$1:_3}),_1)]);};i.Input=function(Z,_0,_1,_2,_3){return Q.Element("div",new N.T({$:1,$0:(i.cls())("form-group"),$1:_0}),[Q.Element("label",_2,[Q.TextNode(Z)]),Q.Input(new N.T({$:1,$0:(i.cls())("form-control"),$1:_3}),_1)]);};i.Container=function(Z){return Q.Element("div",[(i.cls())("container")],Z);};i.Class=function(){j.$cctor();return j.Class;};i.cls=function(){j.$cctor();return j.cls;};j.$cctor=function(){j.$cctor=a.ignore;j.cls=R.Class;j.Class=R.Class;};l.Programs={$:3};l.Onboard={$:2};l.Help={$:1};l.Hello={$:0};m.Greetings={$:0};n=k.Meaning=L.Class({toString:function(){return((((L.Curried(function(Z,_0,_1,_2){return Z("Intent: "+E.p(_0)+". Trait: "+E.p$1(_1)+". Entities: "+E.p$3(_2));},4))(a.id))(this.get_Intent()))(this.get_Trait()))(this.get_Entities());},get_Entities:function(){return(this.Unwrap())[2];},get_Trait:function(){return(this.Unwrap())[1];},get_Intent:function(){return(this.Unwrap())[0];},Unwrap:function(){return[this.$0,this.$1,this.$2];}},null,n);o=k.NLUContext=L.Class({toString:function(){return a.String(this.get_Meaning());},get_Meaning:function(){return this.Unwrap();},Unwrap:function(){return this.$0;}},null,o);q.New=function(Z,_0,_1,_2,_3){return{body:Z,end:_0,start:_1,suggested:_2,value:_3};};p.Contact=function(Z){return!(Z.contact==null)?{$:1,$0:{$:0,$0:q.New(Z.body,Z.end,Z.start,Z.ff,Z.value).value}}:null;};p.Greetings=function(Z){return!(Z.greetings==null)&&!(Z.greetings.value==null)?{$:1,$0:m.Greetings}:null;};p.Hello=function(Z){return typeof Z=="string"&&Z.toLowerCase()==="default_intent"?{$:1,$0:l.Hello}:null;};s=r.Meaning=L.Class({get_TopIntent:function(){return N.head(N.sortBy(function(Z){return Z.get_Confidence();},this.get_Intents()));},get_Entities:function(){return(this.get_Unwrap())[1];},get_Intents:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,s);t=r.Intent=L.Class({get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,t);u=r.Entity=L.Class({get_Value:function(){return(this.get_Unwrap())[3];},get_Role:function(){return(this.get_Unwrap())[2];},get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1,this.$2,this.$3];}},null,u);r.HelloUser=function(Z){var _0,_1;return(_1=r.Hello(Z),_1!=null&&_1.$==1&&(_1.$0.$==1&&(_1.$0.$1.$==0&&(_1.$0.$0.get_Role()==="contact"&&(_0=_1.$0.$0,true)))))?{$:1,$0:_0}:null;};r.Hello=function(Z){var _0,_1;return Z!=null&&Z.$==1&&(_1=r.Intent$1("Hello",Z.$0),_1!=null&&_1.$==1&&(_0=_1.$0,true))?{$:1,$0:_0}:null;};r.Intent$1=function(Z,_0){return _0.get_TopIntent().get_Name()===Z&&_0.get_TopIntent().get_Confidence()>r.intentConfidenceThreshold()?{$:1,$0:N.filter(function(_1){return _1.get_Confidence()>r.entityConfidenceThreshold();},_0.get_Entities())}:null;};r.entityConfidenceThreshold=function(){v.$cctor();return v.entityConfidenceThreshold;};r.set_entityConfidenceThreshold=function(Z){v.$cctor();v.entityConfidenceThreshold=Z;};r.intentConfidenceThreshold=function(){v.$cctor();return v.intentConfidenceThreshold;};r.set_intentConfidenceThreshold=function(Z){v.$cctor();v.intentConfidenceThreshold=Z;};r.QuickPrograms=function(Z){return Z==="programs"?{$:1,$0:l.Programs}:null;};r.QuickHelp=function(Z){var _0;return Z==="help"||(Z==="help me"||(Z==="what's this?"||Z==="huh"))?{$:1,$0:l.Help}:null;};r.QuickHello=function(Z){var _0;return Z==="hello"||(Z==="hey"||(Z==="yo"||Z==="hi"))?{$:1,$0:l.Hello}:null;};r.DebugOff=function(Z){return Z==="debug off"?{$:1,$0:null}:null;};r.DebugOn=function(Z){return Z==="debug on"?{$:1,$0:null}:null;};v.$cctor=function(){v.$cctor=a.ignore;v.intentConfidenceThreshold=0.85;v.entityConfidenceThreshold=0.85;};w=c.CUI=L.Class({get_StopSpeaking:function(){if(a.speechSynthesis.speaking||a.speechSynthesis.pending)a.speechSynthesis.cancel();},SayVoices:function(){var Z,_0,_1;Z=this;_0=a.speechSynthesis.getVoices();!(_0==null)?(_1=d.toArray(_0),Z.Say((function(_2){return function(_3){return _2("There are currently "+a.String(_3)+" voices installed on this computer or device.");};}(a.id))(G.length(_1))),G.iteri(function(_2,_3){return Z.Say(((((L.Curried(function(_4,_5,_6,_7){return _4("Voice "+a.String(_5)+". Name: "+I.toSafe(_6)+", Local: "+I.prettyPrint(_7)+".");},4))(a.id))(_2))(_3.name))(_3.localService));},_1)):void 0;},Wait:function(Z){this.Wait$1(function(){S.Start(Z,null);});},Wait$1:function(Z){this["Echo'"]("please wait");this.Term.disable();Z();this.Term.enable();},Say:function(Z){var _0,_1,_2;_0=this.Voice;_0!=null&&_0.$==1?(_1=_0.$0,S.Start((_2=null,S.Delay(function(){var _3;_3=new a.SpeechSynthesisUtterance(Z);_3.voice=_1;a.speechSynthesis.speak(_3);return S.Zero();})),null),this.Caption?this["Echo'"](Z):void 0):this["Echo'"](Z);},Debug:function(Z){d.debug(Z);this.DebugMode?this["EchoHtml'"](Z):void 0;},"EchoHtml'":function(Z){var _0,_1;_0=(_1={},_1.raw=true,_1);this.Term.disable();this.Term.echo(Z,_0);this.Term.enable();},"Echo'":function(Z){this.Term.disable();this.Term.echo(Z);this.Term.enable();}},null,w);w.New=function(Z,_0,_1,_2,_3){return new w({Voice:Z,Mic:_0,Term:_1,DebugMode:_2,Caption:_3});};y.New=function(Z){return{UserName:Z};};z=x.Interpreter=L.Class({get_Options:function(){return(this.get_Unwrap())[2];},get_Text:function(){return(this.get_Unwrap())[1];},get_Voice:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1[0],this.$1[1]];}},null,z);x.helloUserPhrases=function(){A.$cctor();return A.helloUserPhrases;};x.helloPhrases=function(){A.$cctor();return A.helloPhrases;};x.getRandomPhrase=function(Z){return O.nth(x.rng().Next(0,Z.get_Length()),Z);};x.rng=function(){A.$cctor();return A.rng;};A.$cctor=function(){A.$cctor=a.ignore;A.rng=new T.New();A.helloPhrases=N.ofArray(["Welcome!","Welcome, my name is Selma.","Welcome to Selma. How can I help?","Hello this is Selma, how can I help?","Hello, I am Selma. How can I help?","Hello, I am Selma. How may I help you now?"]);A.helloUserPhrases=N.ofArray(["Hi $user, welcome back.","Welcome $user, nice to see you again..","Hello $user","Good to see you $user."]);};B.update=function(Z,_0){var _1;Z.Debug((function(_2){return function(_3){return _2("Main update ctx: "+I.printList(function(_4){return E.p$5(_4);},_3)+".");};}(a.id))(_0));_0.$==1?_0.$0.$0.get_Intent().$===3?Z.Wait((_1=null,S.Delay(function(){return S.Bind((new V.New()).Async("SMApp.Web:SMApp.Web.Server.GetPatients:1526692069",[]),function(_2){return _2.$==1?(Z.Debug((function(_3){return function(_4){return _3("Error "+I.toSafe(_4));};}(a.id))(_2.$0)),S.Zero()):(Z.Debug((function(_3){return function(_4){return _3("Got "+a.String(_4)+" patients.");};}(a.id))(_2.$0.get_Length())),S.Zero());});}))):void 0:void 0;};C.run=function(){var Z,_0;Z=L.ThisFunc(function(_1,_2){return((C.Main().get_Text())(_1))(_2);});_0=C.Main().get_Options();a.$("#main").terminal(Z,_0);return Q.get_Empty();};C.Main=function(){D.$cctor();return D.Main;};C.container=function(){D.$cctor();return D.container;};C.wait=function(Z){d["Terminal.Echo'"](C.CUI().Term,"please wait");C.CUI().Term.disable();Z();C.CUI().Term.enable();};C.stopSpeaking=function(){D.$cctor();return D.stopSpeaking;};C.sayRandom=function(Z){C.say(x.getRandomPhrase(Z));};C.sayVoices=function(){var Z,_0;Z=a.speechSynthesis.getVoices();!(Z==null)?(_0=d.toArray(Z),C.say((function(_1){return function(_2){return _1("There are currently "+a.String(_2)+" voices installed on this computer or device.");};}(a.id))(G.length(_0))),G.iteri(function(_1,_2){return C.say(((((L.Curried(function(_3,_4,_5,_6){return _3("Voice "+a.String(_4)+". Name: "+I.toSafe(_5)+", Local: "+I.prettyPrint(_6)+".");},4))(a.id))(_1))(_2.name))(_2.localService));},_0)):void 0;};C.say=function(Z){var _0,_1,_2;_0=C.CUI().Voice;_0!=null&&_0.$==1?(_1=_0.$0,S.Start((_2=null,S.Delay(function(){var _3;_3=new a.SpeechSynthesisUtterance(Z);_3.voice=_1;a.speechSynthesis.speak(_3);return S.Zero();})),null),C.CUI().Caption?d["Terminal.Echo'"](C.CUI().Term,Z):void 0):d["Terminal.Echo'"](C.CUI().Term,Z);};C.initMic=function(Z,_0){var _1,_2;C.set_CUI((_1={$:1,$0:new W.Microphone(X.getElementById("microphone"))},w.New(C.CUI().Voice,_1,C.CUI().Term,C.CUI().DebugMode,C.CUI().Caption)));_2=C.CUI().Mic.$0;_2.onconnecting=function(){C.set_MicState({$:1});return C.debugEcho("Mic connecting...");};_2.ondisconnected=function(){return C.debugEcho("Mic disconnected.");};_2.onaudiostart=function(){return C.debugEcho("Mic audio start...");};_2.onaudioend=function(){return C.debugEcho("Mic audio end.");};_2.onerror=function(_3){return C.debugEcho((function(_4){return function(_5){return _4("Mic error : "+I.toSafe(_5)+".");};}(a.id))(_3));};_2.onready=function(){return C.debugEcho("Mic ready.");};_2.onresult=function(_3,_4){return Z(_2,[_3,_4]);};_2.connect("4Y2BLQY5TWLIN7HFIV264S53MY4PCUAT");};C.initSpeech=function(){var Z,_0;Z=a.speechSynthesis.getVoices();!(Z==null)?(_0=d.toArray(Z),G.iter(function(_1){if(Y.Equals(C.CUI().Voice,null)&&(_1.name.indexOf("Microsoft Zira")!=-1||_1.name.toLowerCase().indexOf("female")!=-1)){C.set_CUI(w.New({$:1,$0:_1},C.CUI().Mic,C.CUI().Term,C.CUI().DebugMode,C.CUI().Caption));d.info((function(_2){return function(_3){return _2("Using voice "+I.toSafe(_3)+".");};}(a.id))(C.CUI().Voice.$0.name));}},_0),Y.Equals(C.CUI().Voice,null)&&G.length(_0)>0?(C.set_CUI(w.New({$:1,$0:G.find(function(_1){return _1["default"];},_0)},C.CUI().Mic,C.CUI().Term,C.CUI().DebugMode,C.CUI().Caption)),d.info((function(_1){return function(_2){return _1("Using default voice "+I.toSafe(_2)+".");};}(a.id))(C.CUI().Voice.$0.name))):void 0):void 0;Y.Equals(C.CUI().Voice,null)?(d.error("No speech synthesis voice is available."),d["Terminal.Echo'"](C.CUI().Term,"No speech synthesis voice is available. Install speech synthesis on this device or computer to use the voice output feature of Selma.")):void 0;};C.updateCtx=function(Z){var _0,_1;_0=C.Context();_1=[new o({$:0,$0:Z})];_0.splice.apply(_0,[0,0].concat(_1));return N.ofSeq(O.take(G.length(C.Context())>=5?5:G.length(C.Context()),C.Context()));};C.Context=function(){D.$cctor();return D.Context;};C.MicState=function(){D.$cctor();return D.MicState;};C.set_MicState=function(Z){D.$cctor();D.MicState=Z;};C.debugEcho=function(Z){if(C.CUI().DebugMode)d["Terminal.EchoHtml'"](C.CUI().Term,Z);};C.echo=function(){D.$cctor();return D.echo;};C.CUI=function(){D.$cctor();return D.CUI;};C.set_CUI=function(Z){D.$cctor();D.CUI=Z;};D.$cctor=function(){var Z,_0;D.$cctor=a.ignore;function _1(_3,_4){var _5,_6;_5=_4[1];d.info(_4[0]);d.info(_5);_6=p.Greetings(_5);return _6!=null&&_6.$==1?d.info(_6.$0):d.error(_5);}function _2(_3,_4){var _5,_6,_7,_8,_9,_,$,ba;C.set_CUI(w.New(C.CUI().Voice,C.CUI().Mic,_3,C.CUI().DebugMode,C.CUI().Caption));Y.Equals(C.CUI().Voice,null)?C.initSpeech():void 0;Y.Equals(C.CUI().Mic,null)?C.initMic(_1,_3):void 0;return(_5=r.DebugOn(_4),_5!=null&&_5.$==1)?(C.set_CUI(w.New(C.CUI().Voice,C.CUI().Mic,C.CUI().Term,true,C.CUI().Caption)),C.say("Debug mode is now on.")):(_6=r.DebugOff(_4),_6!=null&&_6.$==1)?(C.set_CUI(w.New(C.CUI().Voice,C.CUI().Mic,C.CUI().Term,false,C.CUI().Caption)),C.say("Debug mode is now off.")):(_8=r.QuickHello(_4),_8!=null&&_8.$==1?(_7=_8.$0,true):(_9=r.QuickHelp(_4),_9!=null&&_9.$==1?(_7=_9.$0,true):(_=r.QuickPrograms(_4),_!=null&&_.$==1&&(_7=_.$0,true))))?($=C.updateCtx(new n({$:0,$0:_7,$1:null,$2:null})),B.update(C.CUI(),$)):C.CUI().Wait((ba=null,S.Delay(function(){return S.Bind((new V.New()).Async("SMApp.Web:SMApp.Web.Server.GetMeaning:-922870759",[_4]),function(bb){var bc;bc=r.HelloUser(bb);return bc!=null&&bc.$==1?(C.say((function(bd){return function(be){return bd("This is the hello intent. The user name is "+I.toSafe(be)+".");};}(a.id))(bc.$0.get_Value())),S.Zero()):(d["Terminal.Echo'"](_3,"This is the whatever intent"),S.Zero());});})));}D.CUI=w.New(null,null,null,false,false);D.echo=(Z=C.CUI().Term,function(_3){d["Terminal.EchoHtml'"](Z,_3);});D.MicState={$:0};D.Context=[];D.stopSpeaking=a.speechSynthesis.speaking||a.speechSynthesis.pending?a.speechSynthesis.cancel():null;D.container=i.Container;D.Main=new z({$:0,$0:function(_3){return function(_4){return _1(_3,_4);};},$1:[function(_3){return function(_4){return _2(_3,_4);};},(_0={},_0.name="Main",_0.greetings="Welcome to Selma. Type hello to begin or help for more assistance.",_0.prompt=">",_0)]});};E.p$3=function(Z){return Z==null?"null":"Some "+I.printList(function(_0){return E.p$4(_0);},Z.$0);};E.p$4=function(Z){return"Contact "+I.prettyPrint(Z.$0);};E.p$1=function(Z){return Z==null?"null":"Some "+E.p$2(Z.$0);};E.p$2=function(Z){return"Greetings";};E.p=function(Z){return Z.$==3?"Programs":Z.$==2?"Onboard":Z.$==1?"Help":"Hello";};E.p$5=function(Z){return"NLUContext "+E.p$6(Z.$0);};E.p$6=function(Z){return"Meaning ("+E.p(Z.$0)+", "+E.p$1(Z.$1)+", "+E.p$3(Z.$2)+")";};}());
