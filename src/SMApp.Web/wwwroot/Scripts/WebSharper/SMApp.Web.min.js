(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_;a=self;b=a.SMApp=a.SMApp||{};c=b.Web=b.Web||{};d=c.ClientExtensions=c.ClientExtensions||{};e=c._Html=c._Html||{};f=c.htmModule=c.htmModule||{};g=a.StartupCode$SMApp_Web$ClientExtensions=a.StartupCode$SMApp_Web$ClientExtensions||{};h=b.Bootstrap=b.Bootstrap||{};i=h.Controls=h.Controls||{};j=a.StartupCode$SMApp_Web$Bootstrap=a.StartupCode$SMApp_Web$Bootstrap||{};k=c.NLU=c.NLU||{};l=k.Intent=k.Intent||{};m=k.Trait=k.Trait||{};n=k.Entity=k.Entity||{};o=k.Meaning=k.Meaning||{};p=k.Question=k.Question||{};q=k.Voice=k.Voice||{};r=q["Entity'"]=q["Entity'"]||{};s=k.Text=k.Text||{};t=s["Meaning'"]=s["Meaning'"]||{};u=s["Intent'"]=s["Intent'"]||{};v=s["Entity'"]=s["Entity'"]||{};w=a.StartupCode$SMApp_Web$NLU=a.StartupCode$SMApp_Web$NLU||{};x=c.CUI=c.CUI||{};y=x.MicState=x.MicState||{};z=x.ClientState=x.ClientState||{};A=x.Interpreter=x.Interpreter||{};B=x.CUI=x.CUI||{};C=a.StartupCode$SMApp_Web$CUI=a.StartupCode$SMApp_Web$CUI||{};D=c.Main=c.Main||{};E=a.StartupCode$SMApp_Web$Main=a.StartupCode$SMApp_Web$Main||{};F=c.Client=c.Client||{};G=a.StartupCode$SMApp_Web$Client=a.StartupCode$SMApp_Web$Client||{};H=a.SMApp$Web_GeneratedPrintf=a.SMApp$Web_GeneratedPrintf||{};I=a.WebSharper;J=I&&I.Strings;K=a.IntelliFactory;L=K&&K.Runtime;M=I&&I.Utils;N=a.console;O=a.jQuery;P=I&&I.Arrays;Q=I&&I.List;R=I&&I.Seq;S=I&&I.UI;T=S&&S.Doc;U=S&&S.AttrModule;V=I&&I.JavaScript;W=V&&V.Pervasives;X=I&&I.Collections;Y=X&&X.Map;Z=b&&b.NLU;_0=Z&&Z.Wit;_1=_0&&_0.WitApi;_2=I&&I.Concurrency;_3=I&&I.Random;_4=I&&I.Operators;_5=I&&I.Remoting;_6=_5&&_5.AjaxRemotingProvider;_7=a.Wit;_8=a.document;_9=I&&I.Unchecked;_=X&&X.Dictionary;d.replace_tok=function($,ba,bb){return J.Replace(bb,$,ba);};d.toLower=function($){return $.toLowerCase();};d.debug=function($,ba){d.info((((L.Curried3(function(bb,bc,bd){return bb("DEBUG: "+M.toSafe(bc)+": "+M.prettyPrint(bd));}))(a.id))($.toUpperCase()))(ba));};d.error=function($){N.error($);};d.info=function($){N.info($);};d.jserror=function($){O.error($);};d.toArray=function($){return P.map(a.id,O.makeArray($));};d["Terminal.EchoHtml'"]=function($,ba){$.pause();$.echo(ba,d.rawOpt());$.resume();};d["Terminal.Echo'"]=function($,ba){$.pause();$.echo(ba);$.resume();};d.rawOpt=function(){g.$cctor();return g.rawOpt;};e=c._Html=L.Class({toString:function(){return e.toString(this);}},null,e);e.toString=function($){function ba(bb){return function(bc){var bd,be,bf,bg,bh,bi,bj;be=J.replicate(bb," ");switch(bc.$==0?bc.$1.$==1?bc.$1.$0.$==2?bc.$1.$1.$==0?(bd=[bc.$1.$0.$0,bc.$0],1):(bd=[bc.$1,bc.$0],2):(bd=[bc.$1,bc.$0],2):(bd=[bc.$1,bc.$0],2):bc.$==2?(bd=bc.$0,3):(bd=[bc.$0,bc.$1],0)){case 0:return bd[0]+"=\""+bd[1]+"\"";case 1:bf=bd[1];return be+"<"+bf+">"+bd[0]+"</"+bf+">\r\n";case 2:bg=bd[1];bh=Q.partition(function(bk){return bk.$==1;},bd[0]);bi=bh[1];bj=bh[0];return bi.$==0?be+"<"+bg+(bj.$===0?"":" "+J.concat(" ",Q.ofSeq(R.delay(function(){return R.map(function(bk){return(ba(0))(bk);},bj);}))))+"/>\r\n":be+"<"+bg+(bj.$===0?"":" "+J.concat(" ",Q.ofSeq(R.delay(function(){return R.map(function(bk){return(ba(0))(bk);},bj);}))))+">\r\n"+J.concat("",Q.ofSeq(R.delay(function(){return R.map(function(bk){return(ba(bb+1))(bk);},bi);})))+be+"</"+bg+">\r\n";case 3:return be+bd+"\r\n";}};}return(ba(0))($);};f.alt=function($){return new e({$:1,$0:"alt",$1:$});};f.src=function($){return new e({$:1,$0:"src",$1:$});};f.cls=function($){return new e({$:1,$0:"class",$1:$});};f.str=function($){return e.toString($);};f.op_PercentEquals=function($,ba){return new e({$:1,$0:$,$1:ba});};f.op_Splice=function($){var ba;return Q.ofArray([new e({$:2,$0:(ba=$,a.String(ba))})]);};f.strong=function(){g.$cctor();return g.strong;};f.h4=function(){g.$cctor();return g.h4;};f.h3=function(){g.$cctor();return g.h3;};f.h2=function(){g.$cctor();return g.h2;};f.h1=function(){g.$cctor();return g.h1;};f.li=function(){g.$cctor();return g.li;};f.ul=function(){g.$cctor();return g.ul;};f.th=function(){g.$cctor();return g.th;};f.td=function(){g.$cctor();return g.td;};f.tr=function(){g.$cctor();return g.tr;};f.a=function(){g.$cctor();return g.a;};f.p=function(){g.$cctor();return g.p;};f.area=function(){g.$cctor();return g.area;};f.map=function(){g.$cctor();return g.map;};f.img=function(){g.$cctor();return g.img;};f.tfoot=function(){g.$cctor();return g.tfoot;};f.tbody=function(){g.$cctor();return g.tbody;};f.thead=function(){g.$cctor();return g.thead;};f.table=function(){g.$cctor();return g.table;};f.span=function(){g.$cctor();return g.span;};f.section=function(){g.$cctor();return g.section;};f.br=function(){g.$cctor();return g.br;};f.div=function(){g.$cctor();return g.div;};f.body=function(){g.$cctor();return g.body;};f.style=function(){g.$cctor();return g.style;};f.title=function(){g.$cctor();return g.title;};f.head=function(){g.$cctor();return g.head;};f.html=function(){g.$cctor();return g.html;};f.elem=function($,ba){return new e({$:0,$0:$,$1:ba});};g.$cctor=function(){var $;g.$cctor=a.ignore;g.rawOpt=($={},$.raw=true,$);g.html=function(ba){return f.elem("html",ba);};g.head=function(ba){return f.elem("head",ba);};g.title=function(ba){return f.elem("title",ba);};g.style=function(ba){return f.elem("style",ba);};g.body=function(ba){return f.elem("body",ba);};g.div=function(ba){return f.elem("div",ba);};g.br=function(ba){return f.elem("br",ba);};g.section=function(ba){return f.elem("section",ba);};g.span=function(ba){return f.elem("span",ba);};g.table=function(ba){return f.elem("table",ba);};g.thead=function(ba){return f.elem("thead",ba);};g.tbody=function(ba){return f.elem("tbody",ba);};g.tfoot=function(ba){return f.elem("tfoot",ba);};g.img=function(ba){return f.elem("img",ba);};g.map=function(ba){return f.elem("map",ba);};g.area=function(ba){return f.elem("area",ba);};g.p=function(ba){return f.elem("p",ba);};g.a=function(ba){return f.elem("a",ba);};g.tr=function(ba){return f.elem("tr",ba);};g.td=function(ba){return f.elem("td",ba);};g.th=function(ba){return f.elem("th",ba);};g.ul=function(ba){return f.elem("ul",ba);};g.li=function(ba){return f.elem("li",ba);};g.h1=function(ba){return f.elem("h1",ba);};g.h2=function(ba){return f.elem("h1",ba);};g.h3=function(ba){return f.elem("h1",ba);};g.h4=function(ba){return f.elem("h1",ba);};g.strong=function(ba){return f.elem("strong",ba);};};i.Radio=function($,ba,bb,bc,bd){return T.Element("div",new Q.T({$:1,$0:(i.cls())("radio"),$1:ba}),[T.Element("label",bc,[T.Radio(bd,true,bb),T.TextNode($)])]);};i.Checkbox=function($,ba,bb,bc,bd){return T.Element("div",new Q.T({$:1,$0:(i.cls())("checkbox"),$1:ba}),[T.Element("label",bc,[T.CheckBox(bd,bb),T.TextNode($)])]);};i.TextArea=function($,ba,bb,bc,bd){return T.Element("div",new Q.T({$:1,$0:(i.cls())("form-group"),$1:ba}),[T.Element("label",bc,[T.TextNode($)]),T.InputArea(new Q.T({$:1,$0:(i.cls())("form-control"),$1:bd}),bb)]);};i.InputPassword=function($,ba,bb,bc,bd){return T.Element("div",new Q.T({$:1,$0:(i.cls())("form-group"),$1:ba}),[T.Element("label",bc,[T.TextNode($)]),T.PasswordBox(new Q.T({$:1,$0:(i.cls())("form-control"),$1:bd}),bb)]);};i.Input=function($,ba,bb,bc,bd){return T.Element("div",new Q.T({$:1,$0:(i.cls())("form-group"),$1:ba}),[T.Element("label",bc,[T.TextNode($)]),T.Input(new Q.T({$:1,$0:(i.cls())("form-control"),$1:bd}),bb)]);};i.Container=function($){return T.Element("div",[(i.cls())("container")],$);};i.Class=function(){j.$cctor();return j.Class;};i.cls=function(){j.$cctor();return j.cls;};j.$cctor=function(){j.$cctor=a.ignore;j.cls=U.Class;j.Class=U.Class;};l=k.Intent=L.Class({toString:function(){return(((L.Curried3(function($,ba,bb){return $("Intent("+M.toSafe(ba)+", "+H.p$2(bb)+")");}))(a.id))(this.get_Name()))(this.get_Confidence());},get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,l);m=k.Trait=L.Class({toString:function(){return(((L.Curried3(function($,ba,bb){return $("Trait("+M.toSafe(ba)+", "+M.prettyPrint(bb)+")");}))(a.id))(this.get_Name()))(this.get_Value());},get_Value:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,m);n=k.Entity=L.Class({toString:function(){return((((L.Curried(function($,ba,bb,bc){return $("Entity("+M.toSafe(ba)+", "+M.toSafe(bb)+", "+H.p$2(bc)+")");},4))(a.id))(this.get_Name()))(this.get_Value()))(this.get_Confidence());},get_Confidence:function(){return(this.get_Unwrap())[2];},get_Value:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1,this.$2];}},null,n);o=k.Meaning=L.Class({toString:function(){return((((L.Curried(function($,ba,bb,bc){return $(H.p(ba)+" "+H.p$3(bb)+" "+H.p$5(bc));},4))(a.id))(this.get_Intent()))(this.get_Trait()))(this.get_Entities());},get_Entities:function(){var $;$=(this.Unwrap())[2];return $!=null?{$:1,$0:Q.sortBy(function(ba){return ba.get_Name();},$.$0)}:null;},get_Trait:function(){return(this.Unwrap())[1];},get_Intent:function(){return(this.Unwrap())[0];},Unwrap:function(){return[this.$0,this.$1,this.$2];}},null,o);p=k.Question=L.Class({toString:function(){return(((L.Curried3(function($,ba,bb){return $("Name: "+M.toSafe(ba)+" Text: "+M.toSafe(bb));}))(a.id))(this.get_Name()))(this.get_Text());},get_Text:function(){return(this.Unwrap())[1];},get_Name:function(){return(this.Unwrap())[0];},Unwrap:function(){return[this.$0,this.$1];}},null,p);r.New=function($,ba,bb,bc,bd){return{body:$,end:ba,start:bb,suggested:bc,value:bd};};q["Intent'"]=function($,ba){return!(ba.intent==null)?{$:1,$0:new l({$:0,$0:d.toLower(ba.intent.value),$1:null})}:null;};q["Trait'"]=function($){return!($.greetings==null)?{$:1,$0:new m({$:0,$0:"greetings",$1:d.toLower($.contact.value)})}:null;};q["Entity'$1"]=function($){return!($.contact==null)?{$:1,$0:new n({$:0,$0:"contact",$1:d.toLower($.contact.value),$2:null})}:null;};t=s["Meaning'"]=L.Class({get_TopIntent:function(){return Q.head(Q.sortBy(function($){return $.get_Confidence();},this.get_Intents()));},get_Entities:function(){return(this.get_Unwrap())[1];},get_Intents:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,t);u=s["Intent'"]=L.Class({get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1];}},null,u);v=s["Entity'"]=L.Class({get_Value:function(){return(this.get_Unwrap())[3];},get_Role:function(){return(this.get_Unwrap())[2];},get_Confidence:function(){return(this.get_Unwrap())[1];},get_Name:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1,this.$2,this.$3];}},null,v);s.HasMeaning=function($){var ba,bb,bc,bd,be,bf;return $!=null&&$.$==1&&($.$0.$0.$==0&&($.$0.$1.get_Length()>0&&(ba=$.$0.$1,true)))?{$:1,$0:new o({$:0,$0:null,$1:null,$2:{$:1,$0:Q.map(function(bg){return new n({$:0,$0:d.toLower(bg.get_Role()),$1:bg.get_Value(),$2:{$:1,$0:bg.get_Confidence()}});},Q.filter(function(bg){return bg.get_Confidence()>s.entityConfidenceThreshold();},ba))}})}:$!=null&&$.$==1&&($.$0.$1.$==0&&($.$0.$0.get_Length()>0&&$.$0.get_TopIntent().get_Confidence()>s.intentConfidenceThreshold()&&(bb=[$.$0.$0,$],true)))?(bc=bb[1],{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:d.toLower(bc.$0.get_TopIntent().get_Name()),$1:{$:1,$0:bc.$0.get_TopIntent().get_Confidence()}})},$1:null,$2:null})}):$!=null&&$.$==1&&($.$0.$0.get_Length()>0&&$.$0.$1.get_Length()>0&&$.$0.get_TopIntent().get_Confidence()>s.intentConfidenceThreshold()&&(bd=[$.$0.$1,$.$0.$0,$],true))?(be=bd[2],(bf=Q.map(function(bg){return new n({$:0,$0:d.toLower(bg.get_Role()),$1:bg.get_Value(),$2:{$:1,$0:bg.get_Confidence()}});},Q.filter(function(bg){return bg.get_Confidence()>s.entityConfidenceThreshold();},be.$0.get_Entities())),{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:d.toLower(be.$0.get_TopIntent().get_Name()),$1:{$:1,$0:be.$0.get_TopIntent().get_Confidence()}})},$1:null,$2:{$:1,$0:bf}})})):null;};s.entityConfidenceThreshold=function(){w.$cctor();return w.entityConfidenceThreshold;};s.set_entityConfidenceThreshold=function($){w.$cctor();w.entityConfidenceThreshold=$;};s.intentConfidenceThreshold=function(){w.$cctor();return w.intentConfidenceThreshold;};s.set_intentConfidenceThreshold=function($){w.$cctor();w.intentConfidenceThreshold=$;};s.getMeaning=function($,ba){s.witapi().getMeaning($,function(bb){d.debug("NLU",(function(bc){return function(bd){return bc("Wit.ai returned: "+M.prettyPrint(bd));};}(a.id))(bb));return ba({$:1,$0:new t({$:0,$0:!(bb.intents==null)?Q.ofArray(P.map(function(bc){return new u({$:0,$0:bc.name,$1:bc.confidence});},bb.intents)):Q.T.Empty,$1:!(bb.intents==null)?Q.ofSeq(R.concat(Q.map(function(bc){return P.map(function(bd){return new v({$:0,$0:bd.name,$1:bd.confidence,$2:bd.role,$3:bd.value});},W.GetJS(bb.entities,[bc]));},Q.filter(function(bc){return!(W.GetJS(bb.entities,[bc])==null);},s.entity_types())))):Q.T.Empty})});},function(bb,bc){d.error((((L.Curried3(function(bd,be,bf){return bd("Wit.ai returned: "+M.prettyPrint(be)+" "+M.prettyPrint(bf));}))(a.id))(bb))(bc));return ba(null);});};s.entity_types=function(){w.$cctor();return w.entity_types;};s.witapi=function(){w.$cctor();return w.witapi;};s.QuickPrograms=function($){return $==="programs"?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"Program",$1:null})},$1:null,$2:null})}:null;};s.QuickNumber=function($){var ba,bb,bc;return(bb=s.One($),bb!=null&&bb.$==1?(ba=bb.$0,true):(bc=s.Two($),bc!=null&&bc.$==1&&(ba=bc.$0,true)))?{$:1,$0:ba}:null;};s.Three=function($){var ba;return $==="3"||$==="three"?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$1:null,$2:{$:1,$0:Q.ofArray([new n({$:0,$0:"wit/ordinal",$1:"three",$2:{$:1,$0:1}})])}})}:null;};s.Two=function($){var ba;return $==="2"||$==="two"?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$1:null,$2:{$:1,$0:Q.ofArray([new n({$:0,$0:"wit/ordinal",$1:"two",$2:{$:1,$0:1}})])}})}:null;};s.One=function($){var ba;return $==="1"||$==="one"?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"questionresponse",$1:{$:1,$0:1}})},$1:null,$2:{$:1,$0:Q.ofArray([new n({$:0,$0:"wit/ordinal",$1:"one",$2:{$:1,$0:1}})])}})}:null;};s.QuickNo=function($){var ba;return $==="no"||($==="NO"||($==="No"||($==="nope"||($==="no way"||($==="nah"||($==="don't do it"||$==="stop"))))))?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"no",$1:{$:1,$0:1}})},$1:null,$2:null})}:null;};s.QuickYes=function($){var ba;return $==="yes"||($==="YES"||($==="Yes"||($==="YEs"||($==="ok"||($==="sure"||($==="yeah"||($==="yep"||($==="uh huh"||($==="go ahead"||$==="go")))))))))?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"yes",$1:{$:1,$0:1}})},$1:null,$2:null})}:null;};s.QuickHelp=function($){var ba;return $==="help"||($==="help me"||($==="what's this?"||$==="huh"))?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"help",$1:{$:1,$0:1}})},$1:null,$2:null})}:null;};s.QuickHello=function($){var ba;return $==="hello"||($==="hey"||($==="yo"||$==="hi"))?{$:1,$0:new o({$:0,$0:{$:1,$0:new l({$:0,$0:"hello",$1:{$:1,$0:1}})},$1:null,$2:null})}:null;};s.Voices=function($){return $==="voices"?{$:1,$0:null}:null;};s.Debug=function($){return $==="debug"?{$:1,$0:null}:null;};s.Blank=function($){return $===""?{$:1,$0:null}:null;};k.No=function($){var ba,bb,bc,bd,be,bf;return(bb=k.Intent$1("no",$),bb!=null&&bb.$==1&&(bb.$0[0]==null&&(bb.$0[1]==null&&(ba=$,true))))?{$:1,$0:ba}:(bd=k.Intent$1("noresponse",$),bd!=null&&bd.$==1&&(bd.$0[0]==null&&(bd.$0[1]==null&&(bc=$,true))))?{$:1,$0:bc}:(bf=k.Intent$1("NoResponse",$),bf!=null&&bf.$==1&&(bf.$0[0]==null&&(bf.$0[1]==null&&(be=$,true))))?{$:1,$0:be}:null;};k.Yes=function($){var ba,bb,bc,bd,be,bf;return(bb=k.Intent$1("yes",$),bb!=null&&bb.$==1&&(bb.$0[0]==null&&(bb.$0[1]==null&&(ba=$,true))))?{$:1,$0:ba}:(bd=k.Intent$1("yesresponse",$),bd!=null&&bd.$==1&&(bd.$0[0]==null&&(bd.$0[1]==null&&(bc=$,true))))?{$:1,$0:bc}:(bf=k.Intent$1("YesResponse",$),bf!=null&&bf.$==1&&(bf.$0[0]==null&&(bf.$0[1]==null&&(be=$,true))))?{$:1,$0:be}:null;};k.EntityManyofMany=function($,ba){return{$:1,$0:Y.OfArray(P.ofSeq(Q.map(function(bb){return Q.exists(function(bc){return bc.get_Name()===bb;},ba)?[bb,{$:1,$0:Q.filter(function(bc){return bc.get_Name()===bb;},ba)}]:[bb,null];},$)))};};k.EntityManyOf1=function($,ba){var bb;return ba!=null&&ba.$==1&&(Q.exists(function(bc){return bc.get_Name()===$;},ba.$0)&&(bb=ba.$0,true))?{$:1,$0:Q.filter(function(bc){return bc.get_Name()===$;},bb)}:null;};k.Entity1Of1=function($,ba){var bb;return ba!=null&&ba.$==1&&(ba.$0.$==1&&(ba.$0.$1.$==0&&(ba.$0.$0.get_Name()===$&&(bb=ba.$0.$0,true))))?{$:1,$0:bb}:null;};k.Intent$1=function($,ba){var bb;return ba.get_Intent()!=null&&ba.get_Intent().$0.get_Name()===$?(bb=ba.Unwrap(),{$:1,$0:[bb[1],bb[2]]}):null;};w.$cctor=function(){w.$cctor=a.ignore;w.witapi=new _1.New("4Y2BLQY5TWLIN7HFIV264S53MY4PCUAT");w.entity_types=Q.ofArray(["wit$contact:contact"]);w.intentConfidenceThreshold=0.85;w.entityConfidenceThreshold=0.85;};y.MicReady={$:5};y.MicAudioEnd={$:4};y.MicAudioStart={$:3};y.MicDisconnected={$:2};y.MicConnecting={$:1};y.MicNotInitialized={$:0};z.ClientUnderstand={$:2};z.ClientReady={$:1};z.ClientNotInitialzed={$:0};A=x.Interpreter=L.Class({get_Options:function(){return(this.get_Unwrap())[2];},get_Text:function(){return(this.get_Unwrap())[1];},get_Voice:function(){return(this.get_Unwrap())[0];},get_Unwrap:function(){return[this.$0,this.$1[0],this.$1[1]];}},null,A);B=x.CUI=L.Class({SayVoices:function(){var $,ba,bb;$=this;ba=a.speechSynthesis.getVoices();!(ba==null)?(bb=d.toArray(ba),$.Say((function(bc){return function(bd){return bc("There are currently "+a.String(bd)+" voices installed on this computer or device.");};}(a.id))(P.length(bb))),P.iteri(function(bc,bd){return $.Say(((((L.Curried(function(be,bf,bg,bh){return be("Voice "+a.String(bf)+". Name: "+M.toSafe(bg)+", Local: "+M.prettyPrint(bh)+".");},4))(a.id))(bc))(bd.name))(bd.localService));},bb)):void 0;},Wait:function($){this.Wait$1(function(){_2.Start($,null);});},Wait$1:function($){this["Echo'"]("please wait...");this.Term.pause();$();this.Term.resume();},sayRandom:function($,ba){this.Say(x.getRandomPhrase($,ba));},Say:function($){var ba,bb,bc;ba=this.Voice;ba!=null&&ba.$==1?(bb=ba.$0,_2.Start((bc=null,_2.Delay(function(){var bd;bd=new a.SpeechSynthesisUtterance($);bd.voice=bb;a.speechSynthesis.speak(bd);return _2.Zero();})),null),this.Caption?this["Echo'"]($):void 0):this["Echo'"]($);},Debug:function($,ba){d.debug($,ba);},"EchoHtml'":function($){var ba,bb;ba=(bb={},bb.raw=true,bb);this.Term.disable();this.Term.echo($,ba);this.Term.enable();},"Echo'":function($){this.Term.disable();this.Term.echo($);this.Term.enable();}},null,B);B.New=function($,ba,bb,bc){return new B({Voice:$,Mic:ba,Term:bb,Caption:bc});};x.waitAddPhrases=function(){C.$cctor();return C.waitAddPhrases;};x.waitRetrievePhrases=function(){C.$cctor();return C.waitRetrievePhrases;};x.helpPhrases=function(){C.$cctor();return C.helpPhrases;};x.helloUserPhrases=function(){C.$cctor();return C.helloUserPhrases;};x.helloPhrases=function(){C.$cctor();return C.helloPhrases;};x["getRandomPhrase'"]=function($){return d.replace_tok("$0","",R.nth(x.rng().Next(0,$.get_Length()),$));};x.getRandomPhrase=function($,ba){return d.replace_tok("$0",ba,R.nth(x.rng().Next(0,$.get_Length()),$));};x.rng=function(){C.$cctor();return C.rng;};C.$cctor=function(){C.$cctor=a.ignore;C.rng=new _3.New();C.helloPhrases=Q.ofArray(["Welcome!","Welcome, my name is Selma.","Welcome to Selma. How can I help?","Hello this is Selma, how can I help?","Hello, I am Selma. How can I help?","Hello, I am Selma. How may I help you now?","I'm Selma. Tell me your name so we can get started."]);C.helloUserPhrases=Q.ofArray(["Hi $0, welcome back.","Welcome $0, nice to see you again.","Hello $0.","Good to see you $0."]);C.helpPhrases=Q.ofArray(["What can I help you with $0?"]);C.waitRetrievePhrases=Q.ofArray(["Ok, let me check that $0 for you","Please wait while I check that $0 for you.","Wait while I check that $0.","Ok let me see if I can find that $0."]);C.waitAddPhrases=Q.ofArray(["Ok, let me add that $0 for you","Please wait while I add that $0 for you.","Wait while I add that $0."]);};D.update=function($,ba,bb,bc,bd){var be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3;function b4(cl){return ba.ContainsKey(cl);}function b5(cl,cm){return ba.Add(cl,cm);}function b6(cl){ba.Remove(cl);}function b7(cl){return ba.get_Item(cl);}function b8(){return b7("user");}function b9(){bd.shift();}function b_(){bb.shift();}function b$(cl){var cm;cm=D.getQuestion(cl);cm==null?(function(cn){return function(co){return cn("No such question: "+M.toSafe(co));};}(_4.FailWith))(cl):bb.unshift(cm.$0);}function ca(cl){$.Say(cl);}function cb(cl){bc.unshift(cl);ca(cl);}function cc(cl,cm){var cn;cn=x.getRandomPhrase(cl,cm);bc.unshift(cn);return $.Say(cn);}function cd(cl,cm){b5(cl,cm);b$(cl);D.debug((function(cn){return function(co){return cn("Added question: "+H.p$8(co)+".");};}(a.id))(bb[0]));return cb(d.replace_tok("$0",cm,D.getQuestion(cl).$0.get_Text()));}function ce(cl,cm){return b4(cl)?{$:1,$0:cm}:null;}function cf(cl,cm){return!b4(cl)?{$:1,$0:cm}:null;}function cg(cl){var cm,cn;return(cn=ce("user",cl),cn!=null&&cn.$==1&&(bb.length===0&&(cm=cn.$0,true)))?(b9(),{$:1,$0:cm}):null;}function ch(cl,cm){var cn,co,cp;return(co=ce("user",cm),co!=null&&co.$==1&&(D.haveQuestion(cl)&&bb.length>0&&bb[0].get_Name()===cl&&(cn=co.$0,true)))?(b9(),b_(),b4(cl)?(cp=ba.get_Item(cl),(b6(cl),{$:1,$0:[cn,{$:1,$0:cp}]})):{$:1,$0:[cn,null]}):null;}function ci(cl,cm){var cn,co,cp;return(co=cf("user",cm),co!=null&&co.$==1&&(D.haveQuestion(cl)&&bb.length>0&&bb[0].get_Name()===cl&&(cn=co.$0,true)))?(b9(),b_(),b4(cl)?(cp=ba.get_Item(cl),(b6(cl),{$:1,$0:[cn,{$:1,$0:cp}]})):{$:1,$0:[cn,null]}):null;}function cj(cl){var cm,cn;return(cn=cf("user",cl),cn!=null&&cn.$==1&&(bb.length===0&&(cm=cn.$0,true)))?(b9(),{$:1,$0:cm}):null;}function ck(cl){var cm;return cl!=null&&cl.$==1&&(typeof cl.$0=="string"&&(cm=cl.$0,true))?{$:1,$0:cm}:null;}D.debug((function(cl){return function(cm){return cl("Starting context: "+M.prettyPrint(cm)+".");};}(a.id))(bd));D.debug((function(cl){return function(cm){return cl("Starting questions: "+M.prettyPrint(cm)+".");};}(a.id))(bb));be=Q.ofSeq(R.take(bd.length>=5?5:bd.length,bd));be.$==1&&(bg=(bh=cf("started",be.$0),bh!=null&&bh.$==1?{$:1,$0:bh.$0}:null),bg!=null&&bg.$==1&&(bi=cj(bg.$0),bi!=null&&bi.$==1&&(bj=k.Intent$1("hello",bi.$0),bj!=null&&bj.$==1&&(bj.$0[1]==null&&be.$1.$==0))))?(ba.Add("started",true),cc(x.helloPhrases(),"")):be.$==1&&(bl=cj(be.$0),bl!=null&&bl.$==1&&(bm=k.Intent$1("hello",bl.$0),bm!=null&&bm.$==1&&(bm.$0[1]==null&&be.$1.$==0)))?cb("Hello, tell me your name to get started."):be.$==1&&(bo=cj(be.$0),bo!=null&&bo.$==1&&(bp=k.Intent$1("hello",bo.$0),bp!=null&&bp.$==1&&(bq=k.Entity1Of1("contact",bp.$0[1]),bq!=null&&bq.$==1&&(be.$1.$==0&&(bn=bq.$0,true)))))?(br=bn.get_Value(),_2.Start((bs=null,_2.Delay(function(){cc(x.waitRetrievePhrases(),"user name");return _2.Bind((new _6.New()).Async("SMApp.Web:SMApp.Web.Server.getUser:1140899279",[br]),function(cl){var cm;return cl==null?(cb((function(cn){return function(co){return cn("Sorry I did not find the user name "+M.toSafe(co)+".");};}(a.id))(br)),cd("addUser",br),_2.Zero()):(cm=cl.$0,_2.Bind((new _6.New()).Async("SMApp.Web:SMApp.Web.Server.updateUserLastLogin:1694539610",[cm.Name]),function(){ba.Add("user",cm);cc(x.helloUserPhrases(),(function(cn){return function(co){return cn(M.prettyPrint(co));};}(a.id))(ba.get_Item("user")));return cm.LastLoggedIn!=null?_2.Bind((new _6.New()).Async("SMApp.Web:SMApp.Web.Server.humanize:1826038019",[cm.LastLoggedIn.$0]),function(cn){cb((function(co){return function(cp){return co("You last logged in "+M.toSafe(cp)+".");};}(a.id))(cn));return _2.Zero();}):_2.Zero();}));});})),null)):be.$==1&&(bu=k.Yes(be.$0),bu!=null&&bu.$==1&&(bv=ci("addUser",bu.$0),bv!=null&&bv.$==1&&(bw=ck(bv.$0[1]),bw!=null&&bw.$==1&&(be.$1.$==0&&(bt=bw.$0,true)))))?_2.Start((bx=null,_2.Delay(function(){cc(x.waitAddPhrases(),"user");return _2.Bind((new _6.New()).Async("SMApp.Web:SMApp.Web.Server.addUser:1694539610",[bt]),function(cl){return cl==null?(cb((function(cm){return function(cn){return cm("Sorry I was not able to add the user "+M.toSafe(cn)+" to the system.");};}(a.id))(bt)),_2.Zero()):(b5("user",bt),cb((function(cm){return function(cn){return cm("Hello "+M.prettyPrint(cn)+", nice to meet you.");};}(a.id))(ba.get_Item("user"))),_2.Zero());});})),null):be.$==1&&(bz=k.No(be.$0),bz!=null&&bz.$==1&&(bA=ci("addUser",bz.$0),bA!=null&&bA.$==1&&(bB=ck(bA.$0[1]),bB!=null&&bB.$==1&&(be.$1.$==0&&(by=bB.$0,true)))))?cb((function(cl){return function(cm){return cl("Ok I did not add the user "+M.toSafe(cm)+". But you must login for me to help you.");};}(a.id))(by)):be.$==1&&((bD=cj(be.$0),bD!=null&&bD.$==1)&&be.$1.$==0)?cb("Could you introduce yourself so we can get started?"):be.$==1&&(bF=cg(be.$0),bF!=null&&bF.$==1&&(bG=k.Intent$1("hello",bF.$0),bG!=null&&bG.$==1&&(bG.$0[0]==null&&(bH=k.Entity1Of1("contact",bG.$0[1]),bH!=null&&bH.$==1&&(be.$1.$==0&&(bE=bH.$0,true))))))?_2.Start((bI=null,_2.Delay(function(){return _2.Bind((new _6.New()).Async("SMApp.Web:SMApp.Web.Server.getUser:1140899279",[bE.get_Value()]),function(cl){return cl==null?(cb((function(cm){return function(cn){return cm("Sorry, the user "+M.toSafe(cn)+" does not exist.");};}(a.id))(bE.get_Value())),_2.Zero()):(cd("switchUser",cl.$0.Name),_2.Zero());});})),null):be.$==1&&(bK=k.Yes(be.$0),bK!=null&&bK.$==1&&(bL=ch("switchUser",bK.$0),bL!=null&&bL.$==1&&(bM=ck(bL.$0[1]),bM!=null&&bM.$==1&&(be.$1.$==0&&(bJ=bM.$0,true)))))?(ba.set_Item("user",bJ),cb((function(cl){return function(cm){return cl("Ok I switched to user "+M.prettyPrint(cm)+".");};}(a.id))(bJ))):be.$==1&&(bO=k.No(be.$0),bO!=null&&bO.$==1&&(bP=ch("switchUser",bO.$0),bP!=null&&bP.$==1&&(bQ=ck(bP.$0[1]),bQ!=null&&bQ.$==1&&(be.$1.$==0&&(bN=bQ.$0,true)))))?cb((function(cl){return function(cm){return cl("Ok I did not switch to user "+M.toSafe(cm)+".");};}(a.id))(bN)):be.$==1&&(bS=cg(be.$0),bS!=null&&bS.$==1&&(bT=k.Intent$1("symptom",bS.$0),bT!=null&&bT.$==1&&(bU=k.Entity1Of1("pain",bT.$0[1]),bU!=null&&bU.$==1&&(be.$1.$==0&&(bR=bU.$0,true)))))?_2.Start((bV=null,_2.Delay(function(){cb("Ok I'll add that entry to your symptom journal");cb((function(cl){return function(cm){return cl("I see this is the 3rd time today you've had pain "+M.toSafe(cm));};}(a.id))(b8()));cd("painVideo","");return _2.Zero();})),null):be.$==1&&(bX=k.Yes(be.$0),bX!=null&&bX.$==1&&((bY=ch("painVideo",bX.$0),bY!=null&&bY.$==1)&&be.$1.$==0))?$["EchoHtml'"]("<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/SkAqOditKN0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>"):be.$==1&&(b0=cg(be.$0),b0!=null&&b0.$==1&&(b1=k.Intent$1("medjournal",b0.$0),b1!=null&&b1.$==1&&((b2=b1.$0[1],b2!=null&&b2.$==1)&&(be.$1.$==0&&(bZ=b1.$0[1].$0,true)))))?(cb("ok I added that entry to your medication journal."),cb("You should be careful not to take too many painkillers over a short period of time.")):(b9(),D.debug("Main interpreter did not understand utterance."),cb("Sorry I didn't understand what you meant."),bb.length>0?(b3=R.nth(0,bb),b4(b3.get_Name())?cb(d.replace_tok("$0",ba.get_Item(b3.get_Name()),b3.get_Text())):cb(b3.get_Text())):void 0);D.debug((function(cl){return function(cm){return cl("Ending context: "+M.prettyPrint(cm)+".");};}(a.id))(bd));D.debug((function(cl){return function(cm){return cl("Ending questions: "+M.prettyPrint(cm)+".");};}(a.id))(bb));};D.haveQuestion=function($){return Q.exists(function(ba){return ba.get_Name()===$;},D.questions());};D.getQuestion=function($){return R.tryFind(function(ba){return ba.get_Name()===$;},D.questions());};D.questions=function(){E.$cctor();return E.questions;};D.debug=function($){d.debug("Main",$);};E.$cctor=function(){E.$cctor=a.ignore;E.questions=Q.ofArray([new p({$:0,$0:"addUser",$1:"Do you want me to add the user $0?"}),new p({$:0,$0:"switchUser",$1:"Do you want me to switch to the user $0?"}),new p({$:0,$0:"painSurvey",$1:"Would you like to take a short survey on your pain symptoms so I can understand them better."}),new p({$:0,$0:"painVideo",$1:"Would you like to see a video about pain management that might help you?"}),new p({$:0,$0:"medReminder",$1:"Would you like me to add a reminder about your meds so you won't forget them later?"})]);};F.run=function(){var $,ba;$=L.ThisFunc(function(bb,bc){return((F.Main().get_Text())(bb))(bc);});ba=F.Main().get_Options();a.$("#main").terminal($,ba);return T.get_Empty();};F.Main=function(){G.$cctor();return G.Main;};F.initMic=function($){var ba,bb;F.set_CUI((ba={$:1,$0:new _7.Microphone(_8.getElementById("microphone"))},B.New(F.CUI().Voice,ba,F.CUI().Term,F.CUI().Caption)));bb=F.CUI().Mic.$0;bb.onconnecting=function(){F.set_MicState(y.MicConnecting);return F.debug("Mic connecting...");};bb.ondisconnected=function(){F.set_MicState(y.MicDisconnected);return F.debug("Mic disconnected.");};bb.onaudiostart=function(){F.set_MicState(y.MicAudioStart);return F.debug("Mic audio start...");};bb.onaudioend=function(){F.set_MicState(y.MicAudioEnd);return F.debug("Mic audio end.");};bb.onerror=function(bc){F.set_MicState({$:6,$0:bc});return F.debug((function(bd){return function(be){return bd("Mic error : "+M.toSafe(be)+".");};}(a.id))(bc));};bb.onready=function(){F.set_MicState(y.MicReady);return F.debug("Mic ready.");};bb.onresult=function(bc,bd){return F.ClientState().$==2?F.echo("I'm still trying to understand what you said before."):F.ClientState().$==0?d.error("Client is not intialized."):!(bc==null||bd==null)?(F.set_MicState({$:7,$0:bc,$1:bd}),F.debug((((L.Curried3(function(be,bf,bg){return be("Mic result: "+M.prettyPrint(bf)+" "+M.prettyPrint(bg)+".");}))(a.id))(bc))(bd)),$(bb,[bc,bd])):F.debug("Mic: No result returned.");};bb.connect("4Y2BLQY5TWLIN7HFIV264S53MY4PCUAT");};F.sayRandom=function($,ba){F.say(x.getRandomPhrase(ba,$));};F.sayVoices=function(){var $;$=d.toArray(a.speechSynthesis.getVoices());F["say'"]((function(ba){return function(bb){return ba("There are currently "+a.String(bb)+" voices installed on this computer or device.");};}(a.id))(P.length($)));P.iteri(function(ba,bb){return F["say'"](((((L.Curried(function(bc,bd,be,bf){return bc("Voice "+a.String(bd)+". Name: "+M.toSafe(be)+", Local: "+M.prettyPrint(bf)+".");},4))(a.id))(ba))(bb.name))(bb.localService));},$);};F.say=function($){F.Responses().unshift($);F["say'"]($);};F["say'"]=function($){var ba,bb,bc;ba=F.CUI().Voice;ba!=null&&ba.$==1?(bb=ba.$0,_2.Start((bc=null,_2.Delay(function(){var bd;bd=new a.SpeechSynthesisUtterance($);bd.voice=bb;a.speechSynthesis.speak(bd);F.CUI().Caption?d["Terminal.Echo'"](F.CUI().Term,$):void 0;return _2.Zero();})),null)):d["Terminal.Echo'"](F.CUI().Term,$);};F.initSpeech=function(){var $;$=d.toArray(F.synth().getVoices());P.iter(function(ba){if(_9.Equals(F.CUI().Voice,null)&&(ba.name.indexOf("Microsoft Zira")!=-1||ba.name.toLowerCase().indexOf("female")!=-1)){F.set_CUI(B.New({$:1,$0:ba},F.CUI().Mic,F.CUI().Term,F.CUI().Caption));F.debug((function(bb){return function(bc){return bb("Using voice "+M.toSafe(bc)+".");};}(a.id))(F.CUI().Voice.$0.name));}},$);_9.Equals(F.CUI().Voice,null)&&P.length($)>0?(F.set_CUI(B.New({$:1,$0:P.find(function(ba){return ba["default"];},$)},F.CUI().Mic,F.CUI().Term,F.CUI().Caption)),F.debug((function(ba){return function(bb){return ba("Using default voice "+M.toSafe(bb)+".");};}(a.id))(F.CUI().Voice.$0.name))):_9.Equals(F.CUI().Voice,null)?F.echo("No speech synthesis voice is available. Install speech synthesis on this device or computer to use the voice output feature of Selma."):void 0;};F.synth=function(){G.$cctor();return G.synth;};F.push=function($){F.Context().unshift($);return F.Context();};F.Props=function(){G.$cctor();return G.Props;};F.Responses=function(){G.$cctor();return G.Responses;};F.Questions=function(){G.$cctor();return G.Questions;};F.Context=function(){G.$cctor();return G.Context;};F.wait=function($){d["Terminal.Echo'"](F.CUI().Term,"please wait");F.CUI().Term.pause();$();F.CUI().Term.resume();};F.debug=function($){d.debug("CLIENT",$);};F.echo=function($){if(!(F.CUI().Term==null))d["Terminal.EchoHtml'"](F.CUI().Term,(function(ba){return function(bb){return ba(M.prettyPrint(bb));};}(a.id))($));};F.ClientState=function(){G.$cctor();return G.ClientState;};F.set_ClientState=function($){G.$cctor();G.ClientState=$;};F.MicState=function(){G.$cctor();return G.MicState;};F.set_MicState=function($){G.$cctor();G.MicState=$;};F.CUI=function(){G.$cctor();return G.CUI;};F.set_CUI=function($){G.$cctor();G.CUI=$;};G.$cctor=function(){var $;G.$cctor=a.ignore;function ba(bc,bd){var be,bf,bg,bh,bi,bj,bk,bl,bm,bn;be=bd[0];bf=bd[1];F.debug((((L.Curried3(function(bo,bp,bq){return bo("Voice: "+M.prettyPrint(bp)+" "+M.prettyPrint(bq));}))(a.id))(be))(bf));bg=(bh=q["Intent'"](be,bf),bh!=null&&bh.$==1?{$:1,$0:bh.$0}:null);bi=(bj=q["Trait'"](bf),bj!=null&&bj.$==1?{$:1,$0:bj.$0}:null);bk=(bl=q["Entity'$1"](bf),bl!=null&&bl.$==1?{$:1,$0:Q.ofArray([bl.$0])}:null);return bg==null&&(bi==null&&bk==null)?null:(F.debug(((((L.Curried(function(bo,bp,bq,br){return bo("Voice: "+H.p(bp)+" "+H.p$3(bq)+" "+H.p$5(br));},4))(a.id))(bg))(bi))(bk)),bn=F.push(new o({$:0,$0:bg,$1:bi,$2:bk})),D.update(F.CUI(),F.Props(),F.Questions(),F.Responses(),bn));}function bb(bc,bd){var be,bf,bg,bh,bi,bj,bk,bl,bm,bn;F.set_CUI(B.New(F.CUI().Voice,F.CUI().Mic,bc,F.CUI().Caption));_9.Equals(F.CUI().Mic,null)?F.initMic(ba):void 0;_9.Equals(F.CUI().Voice,null)?F.initSpeech():void 0;F.ClientState().$===0?F.set_ClientState(z.ClientReady):void 0;return(be=s.Blank(bd),be!=null&&be.$==1)?F["say'"]("Tell me what you want me to do or ask me a question."):(bf=s.Debug(bd),bf!=null&&bf.$==1)?(F.debug((function(bo){return function(bp){return bo("Context: "+M.prettyPrint(bp));};}(a.id))(F.Context())),F.debug((function(bo){return function(bp){return bo("Questions: "+M.prettyPrint(bp));};}(a.id))(F.Questions()))):(bg=s.Voices(bd),bg!=null&&bg.$==1)?F.sayVoices():F.ClientState().$==1?(bi=s.QuickHello(bd),bi!=null&&bi.$==1?(bh=bi.$0,true):(bj=s.QuickHelp(bd),bj!=null&&bj.$==1?(bh=bj.$0,true):(bk=s.QuickYes(bd),bk!=null&&bk.$==1?(bh=bk.$0,true):(bl=s.QuickNo(bd),bl!=null&&bl.$==1&&(bh=bl.$0,true)))))?(F.debug((function(bo){return function(bp){return bo("Quick Text: "+H.p$7(bp)+".");};}(a.id))(bh)),bm=F.push(bh),D.update(F.CUI(),F.Props(),F.Questions(),F.Responses(),bm),F.set_ClientState(z.ClientReady)):F.CUI().Wait((bn=null,_2.Delay(function(){F.set_ClientState(z.ClientUnderstand);s.getMeaning(bd,function(bo){var bp,bq,br;bp=s.HasMeaning(bo);bp!=null&&bp.$==1?(bq=bp.$0,F.debug(((((L.Curried(function(bs,bt,bu,bv){return bs("Text: "+H.p(bt)+" "+H.p$3(bu)+" "+H.p$5(bv));},4))(a.id))(bq.get_Intent()))(bq.get_Trait()))(bq.get_Entities())),br=F.push(bq),D.update(F.CUI(),F.Props(),F.Questions(),F.Responses(),br)):(F.debug("Text: Did not receive a meaning from the server."),F["say'"]("Sorry I did not understand what you said."));});F.set_ClientState(z.ClientReady);return _2.Zero();}))):F.ClientState().$==0?d.error("Client is not initialized."):F["say'"]("I'm still trying to understand what you said before.");}G.CUI=B.New(null,null,null,false);G.MicState=y.MicNotInitialized;G.ClientState=z.ClientNotInitialzed;G.Context=[];G.Questions=[];G.Responses=[];G.Props=new _.New$5();G.synth=a.speechSynthesis;G.Main=new A({$:0,$0:function(bc){return function(bd){return ba(bc,bd);};},$1:[function(bc){return function(bd){return bb(bc,bd);};},($={},$.name="Main",$.greetings="Welcome to Selma. Enter 'hello' or 'hello my name is...(you)' to initialize speech recognition, or enter help for more assistance.",$.prompt=">",$)]});};H.p$8=function($){return"Question ("+M.prettyPrint($.$0)+", "+M.prettyPrint($.$1)+")";};H.p$2=function($){return $==null?"null":"Some "+M.prettyPrint($.$0);};H.p$1=function($){return"Intent ("+M.prettyPrint($.$0)+", "+H.p$2($.$1)+")";};H.p=function($){return $==null?"null":"Some "+H.p$1($.$0);};H.p$4=function($){return"Trait ("+M.prettyPrint($.$0)+", "+M.prettyPrint($.$1)+")";};H.p$3=function($){return $==null?"null":"Some "+H.p$4($.$0);};H.p$6=function($){return"Entity ("+M.prettyPrint($.$0)+", "+M.prettyPrint($.$1)+", "+H.p$2($.$2)+")";};H.p$5=function($){return $==null?"null":"Some "+M.printList(function(ba){return H.p$6(ba);},$.$0);};H.p$7=function($){return"Meaning ("+H.p($.$0)+", "+H.p$3($.$1)+", "+H.p$5($.$2)+")";};}());
